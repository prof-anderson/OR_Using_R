<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Data Envelopment Analysis | Optimization Modeling Using R</title>
  <meta name="description" content="This book introduces optimization using R." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Data Envelopment Analysis | Optimization Modeling Using R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book introduces optimization using R." />
  <meta name="github-repo" content="prof-anderson/OR_Using_R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Data Envelopment Analysis | Optimization Modeling Using R" />
  
  <meta name="twitter:description" content="This book introduces optimization using R." />
  

<meta name="author" content="Timothy R. Anderson" />


<meta name="date" content="2021-12-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sensitivity-analysis.html"/>
<link rel="next" href="mixed-integer-optimization.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Optimization Modeling Using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#intended-audience"><i class="fa fa-check"></i>Intended Audience</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#features-of-this-book"><i class="fa fa-check"></i>Features of this Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instructor-notes"><i class="fa fa-check"></i>Instructor Notes</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowldegements"><i class="fa fa-check"></i>Acknowldegements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-is-operations-research"><i class="fa fa-check"></i><b>1.1</b> What is Operations Research</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#purpose-of-this-book"><i class="fa fa-check"></i><b>1.2</b> Purpose of this Book</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#range-of-operations-research-techniques"><i class="fa fa-check"></i><b>1.3</b> Range of Operations Research Techniques</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#relationship-between-operations-research-and-analytics"><i class="fa fa-check"></i><b>1.4</b> Relationship between Operations Research and Analytics</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#importance-of-optimization"><i class="fa fa-check"></i><b>1.5</b> Importance of Optimization</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#why-r"><i class="fa fa-check"></i><b>1.6</b> Why R?</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#conventions-used-in-this-book"><i class="fa fa-check"></i><b>1.7</b> Conventions Used in this Book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html"><i class="fa fa-check"></i><b>2</b> Introduction to Linear Programming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#what-is-linear-programming"><i class="fa fa-check"></i><b>2.1</b> What is Linear Programming</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#two-variable-base-case"><i class="fa fa-check"></i><b>2.2</b> Two Variable Base Case</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#graphically-solving-a-linear-program"><i class="fa fa-check"></i><b>2.3</b> Graphically Solving a Linear Program</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#implementing-and-solving-with-ompr"><i class="fa fa-check"></i><b>2.4</b> Implementing and Solving with <code>ompr</code></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#preparing-to-implement-the-linear-program"><i class="fa fa-check"></i><b>2.4.1</b> Preparing to Implement the Linear Program</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#implementing-the-base-case-with-piping"><i class="fa fa-check"></i><b>2.4.2</b> Implementing the Base Case with Piping</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#adding-a-third-product-variable"><i class="fa fa-check"></i><b>2.5</b> Adding a Third Product (Variable)</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#three-variable-base-case-formulation"><i class="fa fa-check"></i><b>2.5.1</b> Three Variable Base Case Formulation</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#three-variable-base-case-implementation"><i class="fa fa-check"></i><b>2.5.2</b> Three Variable Base Case Implementation</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#three-variable-case-results-and-interpretation"><i class="fa fa-check"></i><b>2.5.3</b> Three Variable Case Results and Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#linear-programming-special-cases"><i class="fa fa-check"></i><b>2.6</b> Linear Programming Special Cases</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#case-1-no-feasible-solution"><i class="fa fa-check"></i><b>2.6.1</b> Case 1: No Feasible Solution</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#case-2-multiple-optima"><i class="fa fa-check"></i><b>2.6.2</b> Case 2: Multiple Optima</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#case-3-redundant-constraint"><i class="fa fa-check"></i><b>2.6.3</b> Case 3: Redundant Constraint</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#case-4-unbounded-solution"><i class="fa fa-check"></i><b>2.6.4</b> Case 4: Unbounded Solution</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#abstracting-the-production-planning-model"><i class="fa fa-check"></i><b>2.7</b> Abstracting the Production Planning Model</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#methods-of-solving-linear-programs"><i class="fa fa-check"></i><b>2.8</b> Methods of Solving Linear Programs</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-linear-programming.html"><a href="introduction-to-linear-programming.html#exercises"><i class="fa fa-check"></i><b>2.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html"><i class="fa fa-check"></i><b>3</b> More Linear Programming Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#types-of-lp-models"><i class="fa fa-check"></i><b>3.1</b> Types of LP Models</a></li>
<li class="chapter" data-level="3.2" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#the-algebraic-model"><i class="fa fa-check"></i><b>3.2</b> The Algebraic Model</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#tips-and-conventions-for-algebraic-models"><i class="fa fa-check"></i><b>3.2.1</b> Tips and Conventions for Algebraic Models</a></li>
<li class="chapter" data-level="3.2.2" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#building-the-generalized-model-in-r"><i class="fa fa-check"></i><b>3.2.2</b> Building the Generalized Model in R</a></li>
<li class="chapter" data-level="3.2.3" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#examining-the-results"><i class="fa fa-check"></i><b>3.2.3</b> Examining the Results</a></li>
<li class="chapter" data-level="3.2.4" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#changing-the-model"><i class="fa fa-check"></i><b>3.2.4</b> Changing the Model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#common-linear-programming-applications"><i class="fa fa-check"></i><b>3.3</b> Common Linear Programming Applications</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#blending-problems"><i class="fa fa-check"></i><b>3.3.1</b> Blending Problems</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#allocation-models"><i class="fa fa-check"></i><b>3.4</b> Allocation Models</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#covering-models"><i class="fa fa-check"></i><b>3.4.1</b> Covering Models</a></li>
<li class="chapter" data-level="3.4.2" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#transportation-models"><i class="fa fa-check"></i><b>3.4.2</b> Transportation Models</a></li>
<li class="chapter" data-level="3.4.3" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#transshipment-models"><i class="fa fa-check"></i><b>3.4.3</b> Transshipment Models</a></li>
<li class="chapter" data-level="3.4.4" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#production-and-inventory-planning"><i class="fa fa-check"></i><b>3.4.4</b> Production and Inventory Planning</a></li>
<li class="chapter" data-level="3.4.5" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#standard-form"><i class="fa fa-check"></i><b>3.4.5</b> Standard Form</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#vector-and-matrix-forms-of-lps"><i class="fa fa-check"></i><b>3.5</b> Vector and Matrix Forms of LPs</a></li>
<li class="chapter" data-level="3.6" data-path="more-linear-programming-models.html"><a href="more-linear-programming-models.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html"><i class="fa fa-check"></i><b>4</b> Sensitivity Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#base-case"><i class="fa fa-check"></i><b>4.1</b> Base Case</a></li>
<li class="chapter" data-level="4.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#shadow-prices"><i class="fa fa-check"></i><b>4.2</b> Shadow Prices</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#extraction-and-interpretation"><i class="fa fa-check"></i><b>4.2.1</b> Extraction and Interpretation</a></li>
<li class="chapter" data-level="4.2.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#example-of-adding-an-hour-to-assembly"><i class="fa fa-check"></i><b>4.2.2</b> Example of Adding an Hour to Assembly</a></li>
<li class="chapter" data-level="4.2.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#shadow-prices-of-underutilized-resources"><i class="fa fa-check"></i><b>4.2.3</b> Shadow Prices of Underutilized Resources</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#reduced-costs-of-variables"><i class="fa fa-check"></i><b>4.3</b> Reduced Costs of Variables</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#reduced-cost-of-ants"><i class="fa fa-check"></i><b>4.3.1</b> Reduced Cost of Ants</a></li>
<li class="chapter" data-level="4.3.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#reduced-price-of-bats"><i class="fa fa-check"></i><b>4.3.2</b> Reduced Price of Bats</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#using-sensitivity-analysis-to-evaluate-a-new-product"><i class="fa fa-check"></i><b>4.4</b> Using Sensitivity Analysis to Evaluate a New Product</a></li>
<li class="chapter" data-level="4.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#exercises-2"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html"><i class="fa fa-check"></i><b>5</b> Data Envelopment Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#creating-the-data"><i class="fa fa-check"></i><b>5.2</b> Creating the Data</a></li>
<li class="chapter" data-level="5.3" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#graphical-analysis"><i class="fa fa-check"></i><b>5.3</b> Graphical Analysis</a></li>
<li class="chapter" data-level="5.4" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#the-linear-programs-for-dea"><i class="fa fa-check"></i><b>5.4</b> The Linear Programs for DEA</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#an-explicit-linear-program-for-dea"><i class="fa fa-check"></i><b>5.4.1</b> An Explicit Linear Program for DEA</a></li>
<li class="chapter" data-level="5.4.2" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#a-generalized-linear-program-for-dea"><i class="fa fa-check"></i><b>5.4.2</b> A Generalized Linear Program for DEA</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#creating-the-lp---the-algebraic-approach"><i class="fa fa-check"></i><b>5.5</b> Creating the LP - The Algebraic Approach</a></li>
<li class="chapter" data-level="5.6" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#returns-to-scale"><i class="fa fa-check"></i><b>5.6</b> Returns to Scale</a></li>
<li class="chapter" data-level="5.7" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#multiple-inputs-and-multiple-outputs"><i class="fa fa-check"></i><b>5.7</b> Multiple Inputs and Multiple Outputs</a></li>
<li class="chapter" data-level="5.8" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#extracting-multiplier-weights-from-sensitivity-analysis"><i class="fa fa-check"></i><b>5.8</b> Extracting Multiplier Weights from Sensitivity Analysis</a></li>
<li class="chapter" data-level="5.9" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#slack-maximization"><i class="fa fa-check"></i><b>5.9</b> Slack Maximization</a></li>
<li class="chapter" data-level="5.10" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#dea-packages"><i class="fa fa-check"></i><b>5.10</b> DEA Packages</a></li>
<li class="chapter" data-level="5.11" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#dea-model-building"><i class="fa fa-check"></i><b>5.11</b> DEA Model Building</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#selection-of-inputs-and-outputs"><i class="fa fa-check"></i><b>5.11.1</b> Selection of Inputs and Outputs</a></li>
<li class="chapter" data-level="5.11.2" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#model-choices"><i class="fa fa-check"></i><b>5.11.2</b> Model Choices</a></li>
<li class="chapter" data-level="5.11.3" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#application-area-expertise"><i class="fa fa-check"></i><b>5.11.3</b> Application Area Expertise</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#further-reading"><i class="fa fa-check"></i><b>5.12</b> Further Reading</a></li>
<li class="chapter" data-level="5.13" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#exercises-3"><i class="fa fa-check"></i><b>5.13</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html"><i class="fa fa-check"></i><b>6</b> Mixed Integer Optimization</a>
<ul>
<li class="chapter" data-level="6.1" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#example-of-minor-integrality-impact"><i class="fa fa-check"></i><b>6.1</b> Example of Minor Integrality Impact</a></li>
<li class="chapter" data-level="6.2" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#example-of-major-integality-impact"><i class="fa fa-check"></i><b>6.2</b> Example of Major Integality Impact</a></li>
<li class="chapter" data-level="6.3" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#the-branch-and-bound-algorithm"><i class="fa fa-check"></i><b>6.3</b> The Branch and Bound Algorithm</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#the-lp-relaxation"><i class="fa fa-check"></i><b>6.3.1</b> The LP Relaxation</a></li>
<li class="chapter" data-level="6.3.2" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-i"><i class="fa fa-check"></i><b>6.3.2</b> Subproblem I</a></li>
<li class="chapter" data-level="6.3.3" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-iii"><i class="fa fa-check"></i><b>6.3.3</b> Subproblem III</a></li>
<li class="chapter" data-level="6.3.4" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-iv"><i class="fa fa-check"></i><b>6.3.4</b> Subproblem IV</a></li>
<li class="chapter" data-level="6.3.5" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-v"><i class="fa fa-check"></i><b>6.3.5</b> Subproblem V</a></li>
<li class="chapter" data-level="6.3.6" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-vi"><i class="fa fa-check"></i><b>6.3.6</b> Subproblem VI</a></li>
<li class="chapter" data-level="6.3.7" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-vii"><i class="fa fa-check"></i><b>6.3.7</b> Subproblem VII</a></li>
<li class="chapter" data-level="6.3.8" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-viii"><i class="fa fa-check"></i><b>6.3.8</b> Subproblem VIII</a></li>
<li class="chapter" data-level="6.3.9" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#subproblem-ii"><i class="fa fa-check"></i><b>6.3.9</b> Subproblem II</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#computational-complexity"><i class="fa fa-check"></i><b>6.4</b> Computational Complexity</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#full-enumeration"><i class="fa fa-check"></i><b>6.4.1</b> Full Enumeration</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#binary-variables-and-logical-relations"><i class="fa fa-check"></i><b>6.5</b> Binary Variables and Logical Relations</a></li>
<li class="chapter" data-level="6.6" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#fixed-charge-models"><i class="fa fa-check"></i><b>6.6</b> Fixed Charge Models</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#fixed-charge-example-introduction"><i class="fa fa-check"></i><b>6.6.1</b> Fixed Charge Example-Introduction</a></li>
<li class="chapter" data-level="6.6.2" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#linking-constraints-with-big-m"><i class="fa fa-check"></i><b>6.6.2</b> Linking Constraints with “Big M”</a></li>
<li class="chapter" data-level="6.6.3" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#fixed-charge-implementation"><i class="fa fa-check"></i><b>6.6.3</b> Fixed Charge Implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="mixed-integer-optimization.html"><a href="mixed-integer-optimization.html#model-results-and-interpretation"><i class="fa fa-check"></i><b>6.7</b> Model Results and Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html"><i class="fa fa-check"></i><b>7</b> More Integer Programming Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#overview"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#revisiting-the-warehouse-location-problem"><i class="fa fa-check"></i><b>7.2</b> Revisiting the Warehouse Location Problem</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#implementing-the-warehouse-model"><i class="fa fa-check"></i><b>7.2.1</b> Implementing the Warehouse Model</a></li>
<li class="chapter" data-level="7.2.2" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#solving-the-warehouse-location-problem"><i class="fa fa-check"></i><b>7.2.2</b> Solving the Warehouse Location Problem</a></li>
<li class="chapter" data-level="7.2.3" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#warehouse-discussion"><i class="fa fa-check"></i><b>7.2.3</b> Warehouse Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#solving-mips-with-different-solvers"><i class="fa fa-check"></i><b>7.3</b> Solving MIPs with Different Solvers</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#performance-of-glpk"><i class="fa fa-check"></i><b>7.3.1</b> Performance of <code>glpk</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#performance-of-symphony"><i class="fa fa-check"></i><b>7.3.2</b> Performance of <code>symphony</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#performance-of-lpsolve"><i class="fa fa-check"></i><b>7.3.3</b> Performance of <code>lpsolve</code></a></li>
<li class="chapter" data-level="7.3.4" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#performance-of-gurobi"><i class="fa fa-check"></i><b>7.3.4</b> Performance of <code>gurobi</code></a></li>
<li class="chapter" data-level="7.3.5" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#comparing-results-across-solvers"><i class="fa fa-check"></i><b>7.3.5</b> Comparing Results across Solvers</a></li>
<li class="chapter" data-level="7.3.6" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#popularity-of-lp-solvers"><i class="fa fa-check"></i><b>7.3.6</b> Popularity of LP Solvers</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#solving-sudoku-puzzles-using-optimization"><i class="fa fa-check"></i><b>7.4</b> Solving Sudoku Puzzles using Optimization</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#introduction-to-sudoku-and-optimization"><i class="fa fa-check"></i><b>7.4.1</b> Introduction to Sudoku and Optimization</a></li>
<li class="chapter" data-level="7.4.2" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#formulating-the-sudoku-problem"><i class="fa fa-check"></i><b>7.4.2</b> Formulating the Sudoku Problem</a></li>
<li class="chapter" data-level="7.4.3" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#implementing-sudoku-in-ompr"><i class="fa fa-check"></i><b>7.4.3</b> Implementing Sudoku in ompr</a></li>
<li class="chapter" data-level="7.4.4" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#sudoku-discussion"><i class="fa fa-check"></i><b>7.4.4</b> Sudoku Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#exercises-4"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
<li class="chapter" data-level="7.6" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#production-planning-over-time"><i class="fa fa-check"></i><b>7.6</b> Production Planning over Time</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#implementing-the-model-1"><i class="fa fa-check"></i><b>7.6.1</b> Implementing the Model</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="more-integer-programming-models.html"><a href="more-integer-programming-models.html#additional-exercises"><i class="fa fa-check"></i><b>7.7</b> Additional Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="goal-programming.html"><a href="goal-programming.html"><i class="fa fa-check"></i><b>8</b> Goal Programming</a>
<ul>
<li class="chapter" data-level="8.1" data-path="goal-programming.html"><a href="goal-programming.html#introduction-2"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="goal-programming.html"><a href="goal-programming.html#preemptive-goal-programming"><i class="fa fa-check"></i><b>8.2</b> Preemptive Goal Programming</a></li>
<li class="chapter" data-level="8.3" data-path="goal-programming.html"><a href="goal-programming.html#policies-for-houselessness"><i class="fa fa-check"></i><b>8.3</b> Policies for Houselessness</a></li>
<li class="chapter" data-level="8.4" data-path="goal-programming.html"><a href="goal-programming.html#mass-mailings"><i class="fa fa-check"></i><b>8.4</b> Mass Mailings</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="goal-programming.html"><a href="goal-programming.html#formulating-the-state-mailing-model"><i class="fa fa-check"></i><b>8.4.1</b> Formulating the State Mailing Model</a></li>
<li class="chapter" data-level="8.4.2" data-path="goal-programming.html"><a href="goal-programming.html#implementing-the-state-mailing-model"><i class="fa fa-check"></i><b>8.4.2</b> Implementing the State Mailing Model</a></li>
<li class="chapter" data-level="8.4.3" data-path="goal-programming.html"><a href="goal-programming.html#frontloading-the-work"><i class="fa fa-check"></i><b>8.4.3</b> Frontloading the Work</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="goal-programming.html"><a href="goal-programming.html#exercises-5"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="a-very-brief-introduction-to-r.html"><a href="a-very-brief-introduction-to-r.html"><i class="fa fa-check"></i><b>A</b> A Very Brief Introduction to R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="a-very-brief-introduction-to-r.html"><a href="a-very-brief-introduction-to-r.html#purpose"><i class="fa fa-check"></i><b>A.1</b> Purpose</a></li>
<li class="chapter" data-level="A.2" data-path="a-very-brief-introduction-to-r.html"><a href="a-very-brief-introduction-to-r.html#getting-started-with-r"><i class="fa fa-check"></i><b>A.2</b> Getting Started with R</a></li>
<li class="chapter" data-level="A.3" data-path="a-very-brief-introduction-to-r.html"><a href="a-very-brief-introduction-to-r.html#exercises-6"><i class="fa fa-check"></i><b>A.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html"><i class="fa fa-check"></i><b>B</b> Introduction to Math Notation</a>
<ul>
<li class="chapter" data-level="B.1" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#purpose-1"><i class="fa fa-check"></i><b>B.1</b> Purpose</a></li>
<li class="chapter" data-level="B.2" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#basic-summation-notation"><i class="fa fa-check"></i><b>B.2</b> Basic Summation Notation</a></li>
<li class="chapter" data-level="B.3" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#using-latex-in-rmarkdown"><i class="fa fa-check"></i><b>B.3</b> Using LaTeX in RMarkdown</a></li>
<li class="chapter" data-level="B.4" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#inline-notation"><i class="fa fa-check"></i><b>B.4</b> Inline Notation</a></li>
<li class="chapter" data-level="B.5" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#sums"><i class="fa fa-check"></i><b>B.5</b> Sums</a></li>
<li class="chapter" data-level="B.6" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#delimiters"><i class="fa fa-check"></i><b>B.6</b> Delimiters</a></li>
<li class="chapter" data-level="B.7" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#summary-of-mathematical-notations"><i class="fa fa-check"></i><b>B.7</b> Summary of Mathematical Notations</a></li>
<li class="chapter" data-level="B.8" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#sequences-and-summation-notation"><i class="fa fa-check"></i><b>B.8</b> Sequences and Summation Notation</a></li>
<li class="chapter" data-level="B.9" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#applications-of-summation"><i class="fa fa-check"></i><b>B.9</b> Applications of Summation</a></li>
<li class="chapter" data-level="B.10" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#double-summation"><i class="fa fa-check"></i><b>B.10</b> Double Summation</a></li>
<li class="chapter" data-level="B.11" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#applications-of-double-summation"><i class="fa fa-check"></i><b>B.11</b> Applications of Double Summation</a></li>
<li class="chapter" data-level="B.12" data-path="introduction-to-math-notation.html"><a href="introduction-to-math-notation.html#exercises-7"><i class="fa fa-check"></i><b>B.12</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>C</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="C.1" data-path="troubleshooting.html"><a href="troubleshooting.html#overview-1"><i class="fa fa-check"></i><b>C.1</b> Overview</a></li>
<li class="chapter" data-level="C.2" data-path="troubleshooting.html"><a href="troubleshooting.html#model-building"><i class="fa fa-check"></i><b>C.2</b> Model Building</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="troubleshooting.html"><a href="troubleshooting.html#define-and-formulate-before-implementing"><i class="fa fa-check"></i><b>C.2.1</b> Define and Formulate before Implementing</a></li>
<li class="chapter" data-level="C.2.2" data-path="troubleshooting.html"><a href="troubleshooting.html#failing-to-look-for-past-optimization-models"><i class="fa fa-check"></i><b>C.2.2</b> Failing to Look for Past Optimization Models</a></li>
<li class="chapter" data-level="C.2.3" data-path="troubleshooting.html"><a href="troubleshooting.html#misrendering-of-pdf"><i class="fa fa-check"></i><b>C.2.3</b> Misrendering of PDF</a></li>
<li class="chapter" data-level="C.2.4" data-path="troubleshooting.html"><a href="troubleshooting.html#blank-lines-in-latex"><i class="fa fa-check"></i><b>C.2.4</b> Blank Lines in LaTeX</a></li>
<li class="chapter" data-level="C.2.5" data-path="troubleshooting.html"><a href="troubleshooting.html#problems-with-pdf-creation"><i class="fa fa-check"></i><b>C.2.5</b> Problems with PDF Creation</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="troubleshooting.html"><a href="troubleshooting.html#implementation-troubleshooting"><i class="fa fa-check"></i><b>C.3</b> Implementation Troubleshooting</a>
<ul>
<li class="chapter" data-level="C.3.1" data-path="troubleshooting.html"><a href="troubleshooting.html#errors-in-a-piped-model"><i class="fa fa-check"></i><b>C.3.1</b> Errors in a Piped Model</a></li>
<li class="chapter" data-level="C.3.2" data-path="troubleshooting.html"><a href="troubleshooting.html#undefined-object-in-ompr"><i class="fa fa-check"></i><b>C.3.2</b> Undefined Object in <code>ompr</code></a></li>
<li class="chapter" data-level="C.3.3" data-path="troubleshooting.html"><a href="troubleshooting.html#unexpected-symbol-in-ompr"><i class="fa fa-check"></i><b>C.3.3</b> Unexpected Symbol in <code>ompr</code></a></li>
<li class="chapter" data-level="C.3.4" data-path="troubleshooting.html"><a href="troubleshooting.html#name-conflicts-between-r-and-ompr"><i class="fa fa-check"></i><b>C.3.4</b> Name Conflicts between R and <code>ompr</code></a></li>
<li class="chapter" data-level="C.3.5" data-path="troubleshooting.html"><a href="troubleshooting.html#blindly-reusing-code"><i class="fa fa-check"></i><b>C.3.5</b> Blindly Reusing Code</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="troubleshooting.html"><a href="troubleshooting.html#general-debugging-tips"><i class="fa fa-check"></i><b>C.4</b> General Debugging Tips</a></li>
<li class="chapter" data-level="C.5" data-path="troubleshooting.html"><a href="troubleshooting.html#getting-help"><i class="fa fa-check"></i><b>C.5</b> Getting Help</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="making-good-tables.html"><a href="making-good-tables.html"><i class="fa fa-check"></i><b>D</b> Making Good Tables</a>
<ul>
<li class="chapter" data-level="D.1" data-path="making-good-tables.html"><a href="making-good-tables.html#importance-of-tables-in-modeling"><i class="fa fa-check"></i><b>D.1</b> Importance of Tables in Modeling</a></li>
<li class="chapter" data-level="D.2" data-path="making-good-tables.html"><a href="making-good-tables.html#kable-vs.-kbl"><i class="fa fa-check"></i><b>D.2</b> Kable vs. Kbl</a></li>
<li class="chapter" data-level="D.3" data-path="making-good-tables.html"><a href="making-good-tables.html#table-footnotes-with-kable"><i class="fa fa-check"></i><b>D.3</b> Table Footnotes with Kable</a></li>
<li class="chapter" data-level="D.4" data-path="making-good-tables.html"><a href="making-good-tables.html#setting-row-and-column-names-in-kable"><i class="fa fa-check"></i><b>D.4</b> Setting Row and Column Names in Kable</a></li>
<li class="chapter" data-level="D.5" data-path="making-good-tables.html"><a href="making-good-tables.html#booktabs-vs.-default"><i class="fa fa-check"></i><b>D.5</b> Booktabs vs. Default</a></li>
<li class="chapter" data-level="D.6" data-path="making-good-tables.html"><a href="making-good-tables.html#using-latex-in-kable-column-names"><i class="fa fa-check"></i><b>D.6</b> Using LaTeX in Kable Column Names</a></li>
<li class="chapter" data-level="D.7" data-path="making-good-tables.html"><a href="making-good-tables.html#fitting-tables-to-page-width"><i class="fa fa-check"></i><b>D.7</b> Fitting Tables to Page Width</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Optimization Modeling Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-envelopment-analysis" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Data Envelopment Analysis</h1>
<div id="introduction-1" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Introduction</h2>
<p>Data envelopment analysis or DEA is a powerful tool for conducting studies of efficiency and has been used in thousands of publications since its inception in the 1970s.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>  </p>
<p>While tools exist for conducting the evaluations, it is important to understand how the tools work. Many DEA studies have been conducted and published by authors with only a superficial understanding of the technique. This is equivalent to having a house built by carpenters that only (barely?) understand how to use a hammer. The purpose of this document is to show how DEA works, what it means, and how to use R for getting started with DEA. In order to keep things simple, this first step only looks at the input-oriented envelopment model with constant returns to scale. We introduce other models at the end of this chapter.<br />
</p>
<p>This chapter walks through how DEA works and then shows how to implement the model in R using two very different approaches. Over the years, I have built DEA models in many languages and platforms: Pascal, LINDO, LINGO, Excel Macros, Excel VBA, GAMS, AMPL, XPress-MOSEL, and GLPK among others.<br />
</p>
<p>In this chapter, we will use a few functions from an R package, <code>TRA</code>, that I have created. This package is for doing a range of functions related to Technology, Research, and Analytics.  The <code>TRA</code> package is not posted on CRAN but is instead available from github. You can download a current version from github. The result is that you will need to install it using the <code>devtools</code> package.<br />
</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-envelopment-analysis.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (devtools)</span>
<span id="cb121-2"><a href="data-envelopment-analysis.html#cb121-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;prof-anderson/TRA&quot;</span>)</span>
<span id="cb121-3"><a href="data-envelopment-analysis.html#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (TRA)</span></code></pre></div>
</div>
<div id="creating-the-data" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Creating the Data</h2>
<p>Let’s start by defining data. DEA applications can have multiple inputs and outputs. The input(s) are typically resources that are consumed in the production of output(s). Inputs are referred to as “bads” in that higher levels at the same level of output is considered worse. Similarly, holding everything else constant, an increase in any single output is laudable. Examples of inputs might include capital, labor, or number of machines.<br />
</p>
<p>In contrast, outputs are the “good” items that are being produced by the actions of the producers. Examples of outputs might include automobiles produced, customers served, or graduating students.<br />
</p>
<p>Let’s start by creating a simple application - assume that you are a regional manager of a grocery chain. You have four stores and would like to assess the performance of the store managers using number of employees, <em>x</em>, as an input and the weekly sales, <em>y</em>, as an output.<br />
</p>
<p>As the manager responsible for the stores in the region, there are many questions that you may want answered:</p>
<ul>
<li>Which of these stores are the best?</li>
<li>Which stores are laggards?</li>
<li>For those that are underperforming, are there objective performance targets they should be able to reach?</li>
<li>Which stores might be employing best practices that could be adopted by other stores?</li>
<li>Among the stores that are lagging in performance, are there particular stores they should focus attention on for learning best practices?</li>
</ul>
<p>We’ll start by drawing a visual representation of the input-output model. The function <code>DrawIOdiagram</code> is from the <code>TRA</code> package and allows for creating a nicely formatted input-output diagram. <br />
</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-envelopment-analysis.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (TRA) <span class="co"># Note, may need to install directly from github</span></span>
<span id="cb122-2"><a href="data-envelopment-analysis.html#cb122-2" aria-hidden="true" tabindex="-1"></a>              <span class="co"># remotes::install_github(&quot;prof-anderson/TRA&quot;)</span></span>
<span id="cb122-3"><a href="data-envelopment-analysis.html#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="data-envelopment-analysis.html#cb122-4" aria-hidden="true" tabindex="-1"></a>Figure <span class="ot">&lt;-</span> <span class="fu">DrawIOdiagram</span> (<span class="fu">c</span>(<span class="st">&quot;Employees</span><span class="sc">\n</span><span class="st">(FTE)&quot;</span> ), </span>
<span id="cb122-5"><a href="data-envelopment-analysis.html#cb122-5" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">c</span>(<span class="st">&quot;Sales</span><span class="sc">\n</span><span class="st">($/week)&quot;</span>), </span>
<span id="cb122-6"><a href="data-envelopment-analysis.html#cb122-6" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;&quot;</span><span class="sc">\n</span><span class="st">Store</span><span class="sc">\n</span><span class="st"> &quot;&#39;</span>)</span>
<span id="cb122-7"><a href="data-envelopment-analysis.html#cb122-7" aria-hidden="true" tabindex="-1"></a>tmp<span class="ot">&lt;-</span><span class="fu">capture.output</span>(<span class="fu">rsvg_png</span>(<span class="fu">charToRaw</span>(<span class="fu">export_svg</span>(Figure)),</span>
<span id="cb122-8"><a href="data-envelopment-analysis.html#cb122-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&#39;images/DEA_IO_stores.PNG&#39;</span>)) </span>
<span id="cb122-9"><a href="data-envelopment-analysis.html#cb122-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;images/DEA_IO_stores.PNG&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:DEA-IO-Plot1"></span>
<img src="images/DEA_IO_stores.PNG" alt="A Simple DEA Model for Store Management" width="50%" />
<p class="caption">
FIGURE 5.1: A Simple DEA Model for Store Management
</p>
</div>
<p>The figure for drawing input-output diagrams is worth a little discussion and explanation.</p>
<p>This follows three steps to work for both HTML &amp; PDF:</p>
<ol style="list-style-type: decimal">
<li>Generate diagram object and save to Figure object</li>
<li>Export Figure as image to images directory</li>
<li>Display image</li>
</ol>
<p>Note that it assumes that there is a subdirectory for images - if there isn’t a subdirectory for images, you can create one or edit the path.<br />
</p>
<p>Furthermore, note that the text passed to the function such as <code>"Sales\n($/week)"</code> allows for a line return character such as <code>"\n"</code></p>
<p>Let’s get started now with R.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-envelopment-analysis.html#cb123-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">50</span>),<span class="at">ncol=</span><span class="dv">1</span>, </span>
<span id="cb123-2"><a href="data-envelopment-analysis.html#cb123-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">dimnames=</span><span class="fu">list</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>],<span class="st">&quot;x&quot;</span>))</span>
<span id="cb123-3"><a href="data-envelopment-analysis.html#cb123-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">75</span>,<span class="dv">100</span>,<span class="dv">300</span>,<span class="dv">400</span>),<span class="at">ncol=</span><span class="dv">1</span>,</span>
<span id="cb123-4"><a href="data-envelopment-analysis.html#cb123-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">dimnames=</span><span class="fu">list</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>],<span class="st">&quot;y&quot;</span>))</span>
<span id="cb123-5"><a href="data-envelopment-analysis.html#cb123-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-6"><a href="data-envelopment-analysis.html#cb123-6" aria-hidden="true" tabindex="-1"></a>storenames<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Al</span><span class="sc">\&#39;</span><span class="st">s Pantry&quot;</span>, <span class="st">&quot;Bob</span><span class="sc">\&#39;</span><span class="st">s Mill&quot;</span>, </span>
<span id="cb123-7"><a href="data-envelopment-analysis.html#cb123-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Trader Carrie</span><span class="sc">\&#39;</span><span class="st">s&quot;</span>, <span class="st">&quot;Dilbertson</span><span class="sc">\&#39;</span><span class="st">s&quot;</span>)</span>
<span id="cb123-8"><a href="data-envelopment-analysis.html#cb123-8" aria-hidden="true" tabindex="-1"></a>temp<span class="ot">&lt;-</span><span class="fu">cbind</span>(storenames,x,y)</span>
<span id="cb123-9"><a href="data-envelopment-analysis.html#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(temp)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Store Name&quot;</span>, <span class="st">&quot;Employees (x)&quot;</span>, <span class="st">&quot;Sales (y)&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-envelopment-analysis.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (temp, <span class="at">booktabs=</span>T, <span class="at">escape=</span>F,</span>
<span id="cb124-2"><a href="data-envelopment-analysis.html#cb124-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;First Dataset for DEA&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb124-3"><a href="data-envelopment-analysis.html#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:first-dataset-table">TABLE 5.1: </span>First Dataset for DEA
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Store Name
</th>
<th style="text-align:left;">
Employees (x)
</th>
<th style="text-align:left;">
Sales (y)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
Al’s Pantry
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
75
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
Bob’s Mill
</td>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
100
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
Trader Carrie’s
</td>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
300
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:left;">
Dilbertson’s
</td>
<td style="text-align:left;">
50
</td>
<td style="text-align:left;">
400
</td>
</tr>
</tbody>
</table>
<p>The above commands create matrices that hold the data and have named rows and columns to match. The <code>&lt;-</code> symbol is a key function in R and means to assign what is in the right to the object on the left.<br />
</p>
<p>For benchmarking, we want to know which ones are doing the best job.<br />
</p>
<p>Can you tell which stores represent the best tradeoff between inputs and outputs? None of the stores are strictly dominated by any of the other stores. Dominance would be producing more outputs using less input so let’s move on to looking at it graphically.<br />
</p>
</div>
<div id="graphical-analysis" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Graphical Analysis</h2>
<p>Let’s start by doing a simple plot of the data. For now, I’m going to make use of a function in Peter Bogetoft and Lars Otto’s <code>Benchmarking</code> package <span class="citation">(<a href="#ref-BogetoftBenchmarkingDEASFA2013" role="doc-biblioref">Bogetoft and Otto 2013</a>)</span> which provides a very handy and nicely formatted two-dimensional plot in the format often used for showing production.  Many of the functions in the package are also described in their book.<br />
</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-envelopment-analysis.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Benchmarking, <span class="at">quietly=</span><span class="cn">TRUE</span>)</span>
<span id="cb125-2"><a href="data-envelopment-analysis.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dea.plot</span>(x, y, <span class="at">RTS=</span><span class="st">&quot;crs&quot;</span>, <span class="at">ORIENTATION=</span><span class="st">&quot;in-out&quot;</span>, </span>
<span id="cb125-3"><a href="data-envelopment-analysis.html#cb125-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">txt=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)], </span>
<span id="cb125-4"><a href="data-envelopment-analysis.html#cb125-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">add=</span><span class="cn">FALSE</span>, <span class="at">wx=</span><span class="cn">NULL</span>, <span class="at">wy=</span><span class="cn">NULL</span>, <span class="at">TRANSPOSE=</span><span class="cn">FALSE</span>, </span>
<span id="cb125-5"><a href="data-envelopment-analysis.html#cb125-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab=</span><span class="st">&quot;Employees (x)&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Sales (y)&quot;</span>,</span>
<span id="cb125-6"><a href="data-envelopment-analysis.html#cb125-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">fex=</span><span class="dv">1</span>, <span class="at">GRID=</span><span class="cn">TRUE</span>, <span class="at">RANGE=</span><span class="cn">FALSE</span>, <span class="at">param=</span><span class="cn">NULL</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:DEA-Isoquant-Plot"></span>
<img src="OMUR_files/figure-html/DEA-Isoquant-Plot-1.png" alt="Store Benchmarking Example" width="672" />
<p class="caption">
FIGURE 5.2: Store Benchmarking Example
</p>
</div>
<p>Note that the function call <code>dea.plot</code> from <code>Benchmarking</code> uses options from the standard <code>r</code> function <code>plot</code>.  This includes items such as axis labeling <code>xlab</code> and <code>ylab</code> along with the figure title <code>main</code>. It also provides DEA specific options such as <code>RTS</code>, <code>ORIENTATION</code>, <code>add</code>, <code>wx</code>, <code>wy</code>, and more. The various options for <code>plot</code> and <code>dea.plot</code> can be found in their respective help pages.<br />
</p>
<p>This chart clearly shows that store <em>C</em> (Trader Carrie’s) has the best ratio of sales (output, <em>y</em>) to employees (input, <em>x</em>). The diagonal line represents an efficiency frontier of best practices that could be achieved by scaling up or down store <em>C</em>. As the input is scaled up or down, it is assumed that the output of store <em>C</em> would be scaled up or down by the same value. We will revisit this assumption in a later section but for now, think of this as saying that store <em>C</em> cannot enjoy economies of scale by getting larger or suffer from diseconomies of scale by getting smaller so it is referred to as constant returns to scale or CRS.<br />
</p>
<p>Furthermore, we can graphically examine the technical efficiency of each of the other stores. I’m going to start with store B since it is a little easier to visualize. For now, let’s think of the question, how much more or less input would <em>C</em> require to produce as much output as <em>B</em>.<br />
</p>
<p>To determine this efficiency score, simply draw a horizontal line from <em>B</em> to the efficiency frontier on the left. This point can be thought of as a target for <em>B</em> to be efficient. This point has the same output as <em>B</em> but uses only half as much input. The efficiency score can be calculated as the ratio of the distance from the vertical axis to the target divided by the distance from the vertical axis to <em>B</em>. This distance is simply 10/20 or 50%.<br />
</p>
<p>Another question is how to construct the target for <em>B</em>’s evaluation. It is simply made by scaling down <em>C</em> to a third of its original size. This results in a target that is composed of about 0.333 of <em>C</em>. Also, it should be noted that it makes use of no part of <em>A</em>, <em>B</em>, or <em>D</em>. This value of 0.333 can be thought of as a recipe for how to make a target of performance for <em>B</em>. We will use a set of variables, <span class="math inline">\(\lambda\)</span> to describe this recipe or way of constructing a target. More specifically, we would note that <span class="math inline">\(\lambda_C=0.333\)</span> and <span class="math inline">\(\lambda_A=\lambda_B=\lambda_D=0\)</span>.<br />
</p>
<p>The same steps can be followed for analyzing stores <em>A</em>, <em>C</em>, and <em>D</em> resulting in efficiencies of 75%, 100%, and 80% respectively.</p>
</div>
<div id="the-linear-programs-for-dea" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> The Linear Programs for DEA</h2>
<div id="an-explicit-linear-program-for-dea" class="section level3" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> An Explicit Linear Program for DEA</h3>
<p>The graphical approach is intuitive but accuracy is limited to that of drawing tools. More importantly, it does not scale to more complex models with multiple inputs and outputs. Let’s frame this topic mathematically so that we can proceed systematically. Furthermore, benchmarking of stores is only one application area of literally thousands so rather than limiting ourselves to stores, we will refer to them as <em>decision making units</em> (DMUs)   or units for short.<br />
</p>
<p>A key way to begin the mathematical development of the envelopment model is to ask, can you find a combination of units that produces a target with at least as much output using less input? The blend of other units is described by a vector <span class="math inline">\(\lambda\)</span>. Another way to denote this is <span class="math inline">\(\lambda_j\)</span> which is the specific amount of a unit <em>j</em> used in setting the target for performance for the unit being studied, <em>k</em>. In this case, <em>k=2</em> since we are analyzing the second store, B. Furthermore, we can state that we want to find how much less input our target for B needs compared with what B actually used. This value for input usage is a unitless variable, <span class="math inline">\(\theta\)</span> where <span class="math inline">\(\theta =1\)</span> indicates that a reduction cannot occur for each input while maintaining B’s level of output. Similarly, a value of <span class="math inline">\(\theta =0.9\)</span> indicates a 10% reduction in input usage could be obtained.<br />
</p>
<p>We could express the evaluation of store B as a linear program as follows.<br />
</p>
<p><span class="math display">\[
 \begin{split}
 \begin{aligned}
    \text{Min    } &amp; \theta &amp;\text{[Efficiency]}\\
    \text{S.t.:  } &amp; 10 \lambda_A + 20 \lambda_B +
                    30 \lambda_C + 50 \lambda_D 
                    \leq 20 \theta &amp;\text{[Input]}\\
                  &amp; 75 \lambda_A + 100 \lambda_B +
                    300 \lambda_C + 400 \lambda_D 
                    \geq 100 &amp;\text{[Output]}\\
                  &amp; \theta, \; \lambda_A , \; \lambda_B , \; \lambda_D , \; \lambda_D \geq 0  
  \end{aligned}
  \end{split}
\]</span></p>
<p>Implementing this formulation in <code>ompr</code> or another system is straightforward and similar to the production planning linear programs examined in earlier chapters.<br />
</p>
<p>To solve for other stores, we would simply change the values on the right hand side of the constraints and solve again. This means that we solve as many linear programs as there are units to evaluate. We are in effect iterating for <em>k=1,…,Number of Units</em> or with the four store case, <em>k=1,…,4</em>.<br />
</p>
</div>
<div id="a-generalized-linear-program-for-dea" class="section level3" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> A Generalized Linear Program for DEA</h3>
<p>This can be easily expanded to the multiple input and multiple output case by defining <span class="math inline">\(x_{i,j}\)</span> to be the amount of the <em>i</em>’th input used by unit <em>j</em> and <span class="math inline">\(y_{r,j}\)</span> to be the amount of the <em>r</em>’th output produced by unit <em>j</em>. For simplicity, this example will focus on the one input and one output case rather than the <em>m</em> input and <em>s</em> output case but the R code explicitly allows for <span class="math inline">\(m,s&gt;1\)</span>. To make the code more readable, I will use a slightly different convention <span class="math inline">\(N^X\)</span> or <code>NX</code> instead of <em>m</em> to refer to the number of inputs (x’s) and <span class="math inline">\(N^Y\)</span> or <code>NY</code> to be the number of outputs (y’s) instead of <em>s</em>. Also, the normal mathematical convention is to use <em>n</em> to denote the number of Decision Making Units (DMUs) so I will use <span class="math inline">\(N^D\)</span> or <code>ND</code> to indicate that in the R code.<br />
</p>
<p>Rather than jumping straight to the linear program, let’s take a step back and focus on the construction of the target of performance.<br />
</p>
<p>The core idea of the envelopment model of a DMU <em>k</em> can be thought of as to find a target constructed of a mix of the DMU’s described by a vector <span class="math inline">\(\lambda\)</span> that uses no more of any input to achieve the same or more of every output as DMU <em>k</em>. The amount of the <em>i’th</em> input used by the target is then <span class="math inline">\(\sum_{j=1}^{N^D} x_{i,j}\lambda_j\)</span>. By the same token, the amount of the <em>r’th</em> output produced by the target is <span class="math inline">\(\sum_{j=1}^{N^D} y_{r,j}\lambda_j\)</span>.<br />
</p>
<p>This gives us two sets of constraints along with a restriction of non-negativity. These are shown in the following relationships that must all be satisfied simultaneously.<br />
</p>
<p><span class="math display">\[
 \begin{split}
 \begin{aligned}
    \ &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j \leq x_{i,k} \; \forall \; i &amp;\text{[Use no more input than k]}\\
                       &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j \geq  y_{r,k} \; \forall \; r &amp;\text{[At least as much output]}\\
                       &amp; \lambda_j \geq 0  \; \forall \; j
  \end{aligned}
  \end{split}
\]</span></p>
<p>This is not yet a linear program because it is missing an objective function. It defines what is an acceptable target of performance that is at least as good as DMU <em>k</em> but does not try to find a <em>best</em> target.<br />
</p>
<p>The two most common approaches to finding the best target are the input-oriented and output-oriented models. In the output-oriented model, the first (input) constraint is satisfied while trying to <em>exceed</em> the second constraint (output) by as much possible. This focus on increasing the output is then called an <em>output orientation</em>.<br />
</p>
<p>In this chapter, we will focus on satisfying the second constraint while trying to improve upon the first by as much as possible. In other words, we will satisfy the second (output) constraint but try to form a target that uses as little input as possible. The focus on reducing inputs gives it the name of the input-oriented model.<br />
</p>
<p>In fact, we will go one step further and say that we want to find the maximum possible input reduction in <em>k</em>’s input or conversely, the minimum amount of the input that could be used by the target while still producing the same or more output. We do this by adding a new variable, <span class="math inline">\(\theta\)</span>, which is the radial reduction in the amount of DMU <em>k</em>’s input. We want to find how low we can drive this by <em>minimizing</em> <span class="math inline">\(\theta\)</span>. Let’s define the proportion of the studied unit’s input needed by the target as <span class="math inline">\(\theta\)</span>. A value of <span class="math inline">\(\theta=1\)</span> then means no input reduction can be found in order to produce that unit’s level of output.<br />
</p>
<p>This gives us the following linear program.</p>
<p><span class="math display" id="eq:LPCCRIOE-NoSlack-Simple">\[
 \begin{split}
 \begin{aligned}
    \text{min    }   &amp; \theta \\
    \text{s.t.:  } &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j \leq \theta x_{i,k} \; \forall \; i\\
                       &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j \geq  y_{r,k} \; \forall \; r\\
                       &amp; \lambda_j \geq 0  \; \forall \; j
  \end{aligned}
  \end{split}
  \tag{5.1}
\]</span></p>
<p>Expressing the target on the left and the actual unit’s value and radial reduction on the right is conceptually straightforward to understand. Some optimization software requires collecting all the variables on the left and putting constants on the right hand side of the inequalities. This is easily done and shown in the following linear program for completeness but a benefit of <code>ompr</code> is that we can specify the model in the original format.</p>
<p><span class="math display" id="eq:LPCCRIOE-NoSlack">\[
\begin{split}
\begin{aligned}
    \text{min     }   &amp; \theta \\
    \text{s.t.:  } &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j - \theta x_{i,k} \leq 0 \; \forall \; i\\
                       &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j \geq  y_{r,k} \; \forall \; r\\
                       &amp; \lambda_j \geq 0  \; \forall \; j
  \end{aligned}
 \end{split}
  \tag{5.2}
\]</span></p>
</div>
</div>
<div id="creating-the-lp---the-algebraic-approach" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Creating the LP - The Algebraic Approach</h2>
<p>There are two fundamentally different approaches to setting up linear programs for solving. The first approach is to define data structures to pass vectors for the objective function coefficients and constraint right hand sides along with a matrix of data describing the constraints. This requires careful setting up of the linear programs and is a big cognitive step away from the mathematical representation. Another approach is to use algebraic modeling languages. Standalone algebraic optimization modeling languages include LINGO, AMPL, GAMS, GMPL, and others.<br />
</p>
<p>Until recently, R did not have the ability to do algebraic modeling optimization but a few new packages have provided support for this. In particular, <code>ompr</code>, provides an algebraic perspective that matches closely to the summation representation of a linear program shown earlier. Don’t worry, if you want to see the data structure format approach, that is covered in the <em>DEA Using R</em> book.<br />
</p>
<p>Let’s define some data structures for holding our data and results.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-envelopment-analysis.html#cb126-1" aria-hidden="true" tabindex="-1"></a>  ND <span class="ot">&lt;-</span> <span class="fu">nrow</span>(x); NX <span class="ot">&lt;-</span> <span class="fu">ncol</span>(x); NY <span class="ot">&lt;-</span> <span class="fu">ncol</span>(y); </span>
<span id="cb126-2"><a href="data-envelopment-analysis.html#cb126-2" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># Define data size</span></span>
<span id="cb126-3"><a href="data-envelopment-analysis.html#cb126-3" aria-hidden="true" tabindex="-1"></a>  xdata<span class="ot">&lt;-</span>x[<span class="dv">1</span><span class="sc">:</span>ND,] </span>
<span id="cb126-4"><a href="data-envelopment-analysis.html#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dim</span>(xdata)<span class="ot">&lt;-</span><span class="fu">c</span>(ND,NX) </span>
<span id="cb126-5"><a href="data-envelopment-analysis.html#cb126-5" aria-hidden="true" tabindex="-1"></a>  ydata<span class="ot">&lt;-</span>y[<span class="dv">1</span><span class="sc">:</span>ND,]</span>
<span id="cb126-6"><a href="data-envelopment-analysis.html#cb126-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dim</span>(ydata)<span class="ot">&lt;-</span><span class="fu">c</span>(ND,NY)</span>
<span id="cb126-7"><a href="data-envelopment-analysis.html#cb126-7" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># Now we will create lists of names</span></span>
<span id="cb126-8"><a href="data-envelopment-analysis.html#cb126-8" aria-hidden="true" tabindex="-1"></a>  DMUnames <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span>ND]))            </span>
<span id="cb126-9"><a href="data-envelopment-analysis.html#cb126-9" aria-hidden="true" tabindex="-1"></a>     <span class="co"># DMU names: A, B, ...</span></span>
<span id="cb126-10"><a href="data-envelopment-analysis.html#cb126-10" aria-hidden="true" tabindex="-1"></a>  Xnames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;X&quot;</span>,NX)),paste0,<span class="dv">1</span><span class="sc">:</span>NX)</span>
<span id="cb126-11"><a href="data-envelopment-analysis.html#cb126-11" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Input names: x1, ...</span></span>
<span id="cb126-12"><a href="data-envelopment-analysis.html#cb126-12" aria-hidden="true" tabindex="-1"></a>  Ynames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;Y&quot;</span>,NY)),paste0,<span class="dv">1</span><span class="sc">:</span>NY)</span>
<span id="cb126-13"><a href="data-envelopment-analysis.html#cb126-13" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Output names: y1, ...</span></span>
<span id="cb126-14"><a href="data-envelopment-analysis.html#cb126-14" aria-hidden="true" tabindex="-1"></a>  Vnames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;v&quot;</span>,NX)),paste0,<span class="dv">1</span><span class="sc">:</span>NX)</span>
<span id="cb126-15"><a href="data-envelopment-analysis.html#cb126-15" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Input weight names: v1, ...</span></span>
<span id="cb126-16"><a href="data-envelopment-analysis.html#cb126-16" aria-hidden="true" tabindex="-1"></a>  Unames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;u&quot;</span>,NY)),paste0,<span class="dv">1</span><span class="sc">:</span>NY)  </span>
<span id="cb126-17"><a href="data-envelopment-analysis.html#cb126-17" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Output weight names: u1, ...</span></span>
<span id="cb126-18"><a href="data-envelopment-analysis.html#cb126-18" aria-hidden="true" tabindex="-1"></a>  SXnames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;sx&quot;</span>,NX)),paste0,<span class="dv">1</span><span class="sc">:</span>NX)</span>
<span id="cb126-19"><a href="data-envelopment-analysis.html#cb126-19" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Input slack names: sx1, ...</span></span>
<span id="cb126-20"><a href="data-envelopment-analysis.html#cb126-20" aria-hidden="true" tabindex="-1"></a>  SYnames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;sy&quot;</span>,NY)),paste0,<span class="dv">1</span><span class="sc">:</span>NY)</span>
<span id="cb126-21"><a href="data-envelopment-analysis.html#cb126-21" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Output slack names: sy1, ...</span></span>
<span id="cb126-22"><a href="data-envelopment-analysis.html#cb126-22" aria-hidden="true" tabindex="-1"></a>  Lambdanames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;L_&quot;</span>,ND)),</span>
<span id="cb126-23"><a href="data-envelopment-analysis.html#cb126-23" aria-hidden="true" tabindex="-1"></a>                       paste0,LETTERS[<span class="dv">1</span><span class="sc">:</span>ND])</span>
<span id="cb126-24"><a href="data-envelopment-analysis.html#cb126-24" aria-hidden="true" tabindex="-1"></a>  results.efficiency <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND), </span>
<span id="cb126-25"><a href="data-envelopment-analysis.html#cb126-25" aria-hidden="true" tabindex="-1"></a>                               <span class="at">nrow=</span>ND, <span class="at">ncol=</span><span class="dv">1</span>)</span>
<span id="cb126-26"><a href="data-envelopment-analysis.html#cb126-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dimnames</span>(results.efficiency)<span class="ot">&lt;-</span><span class="fu">c</span>(DMUnames,<span class="st">&quot;CCR-IO&quot;</span>)</span>
<span id="cb126-27"><a href="data-envelopment-analysis.html#cb126-27" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Attach names</span></span>
<span id="cb126-28"><a href="data-envelopment-analysis.html#cb126-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb126-29"><a href="data-envelopment-analysis.html#cb126-29" aria-hidden="true" tabindex="-1"></a>  results.lambda <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">^</span><span class="dv">2</span>), </span>
<span id="cb126-30"><a href="data-envelopment-analysis.html#cb126-30" aria-hidden="true" tabindex="-1"></a>                           <span class="at">nrow=</span>ND,<span class="at">ncol=</span>ND)</span>
<span id="cb126-31"><a href="data-envelopment-analysis.html#cb126-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dimnames</span>(results.lambda)<span class="ot">&lt;-</span><span class="fu">c</span>(DMUnames,Lambdanames)</span>
<span id="cb126-32"><a href="data-envelopment-analysis.html#cb126-32" aria-hidden="true" tabindex="-1"></a>  results.xslack     <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">*</span>NX), </span>
<span id="cb126-33"><a href="data-envelopment-analysis.html#cb126-33" aria-hidden="true" tabindex="-1"></a>                               <span class="at">nrow=</span>ND,<span class="at">ncol=</span>NX) </span>
<span id="cb126-34"><a href="data-envelopment-analysis.html#cb126-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dimnames</span>(results.xslack)<span class="ot">&lt;-</span><span class="fu">c</span>(DMUnames,SXnames)</span>
<span id="cb126-35"><a href="data-envelopment-analysis.html#cb126-35" aria-hidden="true" tabindex="-1"></a>  results.yslack     <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">*</span>NY), </span>
<span id="cb126-36"><a href="data-envelopment-analysis.html#cb126-36" aria-hidden="true" tabindex="-1"></a>                               <span class="at">nrow=</span>ND,<span class="at">ncol=</span>NY) </span>
<span id="cb126-37"><a href="data-envelopment-analysis.html#cb126-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dimnames</span>(results.yslack)<span class="ot">&lt;-</span><span class="fu">c</span>(DMUnames,SYnames)</span></code></pre></div>
<p>We’re going to use our data from earlier but first we will load a collection of libraries to be used later. The <code>ompr</code>package is for optimization and serves as a general human readable format of optimization models that can then interface with a variety of solver engines. The <code>ROI.plugin.glpk</code> package is for the specific solver engine, <code>glpk</code>, that we used. Other LP solving engines are available and can be used instead. We demonstrate other solvers in chapter 7.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-envelopment-analysis.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">quietly=</span><span class="cn">TRUE</span>)           <span class="co"># For data organizing</span></span>
<span id="cb127-2"><a href="data-envelopment-analysis.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ROI, <span class="at">quietly=</span><span class="cn">TRUE</span>)             <span class="co"># R Optimization Interface </span></span>
<span id="cb127-3"><a href="data-envelopment-analysis.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ROI.plugin.glpk, <span class="at">quietly=</span><span class="cn">TRUE</span>) <span class="co"># Connection to glpk as solver</span></span>
<span id="cb127-4"><a href="data-envelopment-analysis.html#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr, <span class="at">quietly=</span><span class="cn">TRUE</span>)            <span class="co"># Optimization Modeling using R</span></span>
<span id="cb127-5"><a href="data-envelopment-analysis.html#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr.roi, <span class="at">quietly=</span><span class="cn">TRUE</span>)        <span class="co"># Connective tissue</span></span></code></pre></div>
<p>Now that we have loaded all of the packages that we use as building blocks, we can start constructing the model.<br />
</p>
<p>We are going to start by building a model for just one DMU, in this case, the second DMU (B).<br />
</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data-envelopment-analysis.html#cb128-1" aria-hidden="true" tabindex="-1"></a>k<span class="ot">&lt;-</span><span class="dv">2</span>    <span class="co"># DMU to analyze.  </span></span>
<span id="cb128-2"><a href="data-envelopment-analysis.html#cb128-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Let&#39;s start with just one DMU, B, for now.</span></span>
<span id="cb128-3"><a href="data-envelopment-analysis.html#cb128-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                         <span class="sc">|&gt;</span></span>
<span id="cb128-4"><a href="data-envelopment-analysis.html#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb128-5"><a href="data-envelopment-analysis.html#cb128-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">lb =</span> <span class="dv">0</span>)                                       <span class="sc">|&gt;</span></span>
<span id="cb128-6"><a href="data-envelopment-analysis.html#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                  <span class="sc">|&gt;</span></span>
<span id="cb128-7"><a href="data-envelopment-analysis.html#cb128-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                               <span class="sc">|&gt;</span></span>
<span id="cb128-8"><a href="data-envelopment-analysis.html#cb128-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,<span class="dv">1</span>], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb128-9"><a href="data-envelopment-analysis.html#cb128-9" aria-hidden="true" tabindex="-1"></a>                 <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,<span class="dv">1</span>])                     <span class="sc">|&gt;</span></span>
<span id="cb128-10"><a href="data-envelopment-analysis.html#cb128-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,<span class="dv">1</span>], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb128-11"><a href="data-envelopment-analysis.html#cb128-11" aria-hidden="true" tabindex="-1"></a>                 <span class="sc">&gt;=</span> ydata[k,<span class="dv">1</span>])                              <span class="sc">|&gt;</span></span>
<span id="cb128-12"><a href="data-envelopment-analysis.html#cb128-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">solve_model</span>(<span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb128-13"><a href="data-envelopment-analysis.html#cb128-13" aria-hidden="true" tabindex="-1"></a>omprtheta <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta) </span>
<span id="cb128-14"><a href="data-envelopment-analysis.html#cb128-14" aria-hidden="true" tabindex="-1"></a>omprlambda <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vlambda[j])</span>
<span id="cb128-15"><a href="data-envelopment-analysis.html#cb128-15" aria-hidden="true" tabindex="-1"></a>ND <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="co"># Four Decision Making Units or DMUs</span></span>
<span id="cb128-16"><a href="data-envelopment-analysis.html#cb128-16" aria-hidden="true" tabindex="-1"></a>NX <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># One input</span></span>
<span id="cb128-17"><a href="data-envelopment-analysis.html#cb128-17" aria-hidden="true" tabindex="-1"></a>NY <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># One output</span></span>
<span id="cb128-18"><a href="data-envelopment-analysis.html#cb128-18" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Only doing analysis for one unit at a time to start</span></span>
<span id="cb128-19"><a href="data-envelopment-analysis.html#cb128-19" aria-hidden="true" tabindex="-1"></a>results.efficiency <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, <span class="dv">1</span>), <span class="at">nrow=</span><span class="dv">1</span>, <span class="at">ncol=</span><span class="dv">1</span>)</span>
<span id="cb128-20"><a href="data-envelopment-analysis.html#cb128-20" aria-hidden="true" tabindex="-1"></a>results.lambda     <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND), <span class="at">nrow=</span><span class="dv">1</span>,<span class="at">ncol=</span>ND)</span>
<span id="cb128-21"><a href="data-envelopment-analysis.html#cb128-21" aria-hidden="true" tabindex="-1"></a>results.efficiency <span class="ot">&lt;-</span> <span class="fu">t</span>(omprtheta)</span>
<span id="cb128-22"><a href="data-envelopment-analysis.html#cb128-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(results.efficiency) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;CCR-IO&quot;</span>)</span>
<span id="cb128-23"><a href="data-envelopment-analysis.html#cb128-23" aria-hidden="true" tabindex="-1"></a>results.lambda <span class="ot">&lt;-</span> <span class="fu">t</span>(omprlambda[<span class="dv">3</span>])</span>
<span id="cb128-24"><a href="data-envelopment-analysis.html#cb128-24" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Takes third column from results and transposes results</span></span>
<span id="cb128-25"><a href="data-envelopment-analysis.html#cb128-25" aria-hidden="true" tabindex="-1"></a>   <span class="co">#  to be structured correctly for later viewing</span></span>
<span id="cb128-26"><a href="data-envelopment-analysis.html#cb128-26" aria-hidden="true" tabindex="-1"></a>results_B <span class="ot">&lt;-</span> <span class="fu">cbind</span> (results.efficiency, results.lambda)</span>
<span id="cb128-27"><a href="data-envelopment-analysis.html#cb128-27" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_B) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Optimal results for DMU B&quot;</span>)</span>
<span id="cb128-28"><a href="data-envelopment-analysis.html#cb128-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-29"><a href="data-envelopment-analysis.html#cb128-29" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_B, <span class="at">digits=</span><span class="dv">4</span>,<span class="at">booktabs=</span>T, <span class="at">escape=</span>F, </span>
<span id="cb128-30"><a href="data-envelopment-analysis.html#cb128-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names=</span><span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">theta^{CRS}$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_A$&quot;</span>, </span>
<span id="cb128-31"><a href="data-envelopment-analysis.html#cb128-31" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_B$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_C$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_D$&quot;</span>),</span>
<span id="cb128-32"><a href="data-envelopment-analysis.html#cb128-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption=</span><span class="st">&quot;Input-Oriented Envelopment Analysis for DMU B&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb128-33"><a href="data-envelopment-analysis.html#cb128-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:first-ompr-model">TABLE 5.2: </span>Input-Oriented Envelopment Analysis for DMU B
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Optimal results for DMU B
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.3333
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-envelopment-analysis.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: Creating LaTeX column names is covered in appendix D.</span></span></code></pre></div>
<p>The above table follows a few convenient conventions. First, the <span class="math inline">\(\theta\)</span>, gets a superscript to indicate that it for the CRS or constant returns to scale model. This is sometimes labeled as CCR after Charnes, Cooper, and Rhodes <span class="citation">(<a href="#ref-RhodesDataEnvelopmentAnalysis1978" role="doc-biblioref">Rhodes 1978</a>)</span>. Later we will cover other models including the variable returns to scale model, sometimes labeled BCC after Banker, Charnes, and Cooper <span class="citation">(<a href="#ref-banker1984" role="doc-biblioref">Banker, Charnes, and Cooper 1984</a>)</span>.</p>
<p>Another convention is to embed the <em>orientation</em> in the table. This an input-oriented model where the primary focus is on achieving efficiency through input reduction. Output-orientation is also very common where the primary goal is for a unit to increase output with the requirement of not using any more input.        </p>
<p>The results in the table indicate that DMU <em>B</em> has an efficiency score of 50%. The target of performance is made of DMU <em>C</em> scaled down by a factor of 0.33. These results match the graphical results from earlier. This 50% efficiency score means that if B were using best practices as demonstrated by the other units, it would only need 50% of the inputs to produce the same output.</p>
<p>Another item to note is that we are using some of the flexibility of <code>kable</code> in our table. In particular, we are able to use LaTeX in our in column headings as long as we set <code>escape=F</code>. Note from the code chunk that the actual use requires an extra slash.  </p>
<p>Let’s now extend it to handle multiple inputs, <code>NX</code>, and outputs, <code>NY</code>. Of course this doesn’t have any impact on our results just yet since we are still only using a single input and output but we now have the structure to accommodate the more general case of DEA. To provide a little variety, we’ll change it to the first DMU, A, to give a little more variety.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data-envelopment-analysis.html#cb130-1" aria-hidden="true" tabindex="-1"></a>k<span class="ot">&lt;-</span><span class="dv">1</span>    <span class="co"># Analyze first unit, DMU A.</span></span>
<span id="cb130-2"><a href="data-envelopment-analysis.html#cb130-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                          <span class="sc">|&gt;</span></span>
<span id="cb130-3"><a href="data-envelopment-analysis.html#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb130-4"><a href="data-envelopment-analysis.html#cb130-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">lb =</span> <span class="dv">0</span>)                                        <span class="sc">|&gt;</span></span>
<span id="cb130-5"><a href="data-envelopment-analysis.html#cb130-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                   <span class="sc">|&gt;</span></span>
<span id="cb130-6"><a href="data-envelopment-analysis.html#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                                <span class="sc">|&gt;</span></span>
<span id="cb130-7"><a href="data-envelopment-analysis.html#cb130-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb130-8"><a href="data-envelopment-analysis.html#cb130-8" aria-hidden="true" tabindex="-1"></a>                 <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX)            <span class="sc">|&gt;</span></span>
<span id="cb130-9"><a href="data-envelopment-analysis.html#cb130-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb130-10"><a href="data-envelopment-analysis.html#cb130-10" aria-hidden="true" tabindex="-1"></a>                 <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY)                     <span class="sc">|&gt;</span></span>
<span id="cb130-11"><a href="data-envelopment-analysis.html#cb130-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">solve_model</span>(<span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb130-12"><a href="data-envelopment-analysis.html#cb130-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-13"><a href="data-envelopment-analysis.html#cb130-13" aria-hidden="true" tabindex="-1"></a>omprtheta <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta) </span>
<span id="cb130-14"><a href="data-envelopment-analysis.html#cb130-14" aria-hidden="true" tabindex="-1"></a>omprlambda <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vlambda[j])</span>
<span id="cb130-15"><a href="data-envelopment-analysis.html#cb130-15" aria-hidden="true" tabindex="-1"></a>results.efficiency <span class="ot">&lt;-</span> <span class="fu">t</span>(omprtheta)</span>
<span id="cb130-16"><a href="data-envelopment-analysis.html#cb130-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(results.efficiency) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;CCR-IO&quot;</span>)</span>
<span id="cb130-17"><a href="data-envelopment-analysis.html#cb130-17" aria-hidden="true" tabindex="-1"></a>results.lambda <span class="ot">&lt;-</span> <span class="fu">t</span>(omprlambda[<span class="dv">3</span>])</span>
<span id="cb130-18"><a href="data-envelopment-analysis.html#cb130-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-19"><a href="data-envelopment-analysis.html#cb130-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Note the use of LaTeX formatting in column names.</span></span>
<span id="cb130-20"><a href="data-envelopment-analysis.html#cb130-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-21"><a href="data-envelopment-analysis.html#cb130-21" aria-hidden="true" tabindex="-1"></a>results_A <span class="ot">&lt;-</span> <span class="fu">cbind</span> (results.efficiency, results.lambda)</span>
<span id="cb130-22"><a href="data-envelopment-analysis.html#cb130-22" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_A) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Optimal results for DMU A&quot;</span>)</span>
<span id="cb130-23"><a href="data-envelopment-analysis.html#cb130-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-24"><a href="data-envelopment-analysis.html#cb130-24" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_A, <span class="at">booktabs=</span>T, <span class="at">escape=</span>F, </span>
<span id="cb130-25"><a href="data-envelopment-analysis.html#cb130-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names=</span> <span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">theta^{CRS}$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_A$&quot;</span>, </span>
<span id="cb130-26"><a href="data-envelopment-analysis.html#cb130-26" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_B$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_C$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_D$&quot;</span>),</span>
<span id="cb130-27"><a href="data-envelopment-analysis.html#cb130-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption=</span><span class="st">&quot;Input-Oriented Envelopment Analysis for DMU A&quot;</span>)  <span class="sc">|&gt;</span></span>
<span id="cb130-28"><a href="data-envelopment-analysis.html#cb130-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:ompr-mult-IO">TABLE 5.3: </span>Input-Oriented Envelopment Analysis for DMU A
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Optimal results for DMU A
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.25
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>Again, the results match what would be expected the graphical analysis.</p>
<p>Now we should extend this to handle all four of the decision making units. A key new function that we use here is the <code>for</code> command to loop the previous code that we had used for analyzing A and B separately. Notably, we assign the results to matrices at the end of each loop.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-envelopment-analysis.html#cb131-1" aria-hidden="true" tabindex="-1"></a>results.efficiency <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, <span class="dv">1</span>), <span class="at">nrow=</span>ND, <span class="at">ncol=</span><span class="dv">1</span>)</span>
<span id="cb131-2"><a href="data-envelopment-analysis.html#cb131-2" aria-hidden="true" tabindex="-1"></a>results.lambda     <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND), <span class="at">nrow=</span>ND,<span class="at">ncol=</span>ND)</span>
<span id="cb131-3"><a href="data-envelopment-analysis.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb131-4"><a href="data-envelopment-analysis.html#cb131-4" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                       <span class="sc">|&gt;</span></span>
<span id="cb131-5"><a href="data-envelopment-analysis.html#cb131-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j=</span><span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb131-6"><a href="data-envelopment-analysis.html#cb131-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>)                                     <span class="sc">|&gt;</span></span>
<span id="cb131-7"><a href="data-envelopment-analysis.html#cb131-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                <span class="sc">|&gt;</span></span>
<span id="cb131-8"><a href="data-envelopment-analysis.html#cb131-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                             <span class="sc">|&gt;</span></span>
<span id="cb131-9"><a href="data-envelopment-analysis.html#cb131-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j]<span class="sc">*</span>xdata[j,i], <span class="at">j=</span><span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb131-10"><a href="data-envelopment-analysis.html#cb131-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX)         <span class="sc">|&gt;</span></span>
<span id="cb131-11"><a href="data-envelopment-analysis.html#cb131-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j=</span><span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb131-12"><a href="data-envelopment-analysis.html#cb131-12" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY)                  <span class="sc">|&gt;</span></span>
<span id="cb131-13"><a href="data-envelopment-analysis.html#cb131-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">solve_model</span>(<span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb131-14"><a href="data-envelopment-analysis.html#cb131-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb131-15"><a href="data-envelopment-analysis.html#cb131-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">c</span>(<span class="st">&quot;DMU=&quot;</span>,k,<span class="fu">solver_status</span>(result)))</span>
<span id="cb131-16"><a href="data-envelopment-analysis.html#cb131-16" aria-hidden="true" tabindex="-1"></a>  results.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta)       </span>
<span id="cb131-17"><a href="data-envelopment-analysis.html#cb131-17" aria-hidden="true" tabindex="-1"></a>  results.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb131-18"><a href="data-envelopment-analysis.html#cb131-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_solution</span>(result, vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb131-19"><a href="data-envelopment-analysis.html#cb131-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;DMU=&quot;    &quot;1&quot;       &quot;optimal&quot;
## [1] &quot;DMU=&quot;    &quot;2&quot;       &quot;optimal&quot;
## [1] &quot;DMU=&quot;    &quot;3&quot;       &quot;optimal&quot;
## [1] &quot;DMU=&quot;    &quot;4&quot;       &quot;optimal&quot;</code></pre>
<p>Success! This indicates each of the four linear programs was solved to optimality. By itself, it doesn’t help much though. We need to now display each column of results. Lambda, <span class="math inline">\(\lambda\)</span>, reflects the way that a best target is made for that unit.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-envelopment-analysis.html#cb133-1" aria-hidden="true" tabindex="-1"></a>Lambdanames <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_A$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_B$&quot;</span>, </span>
<span id="cb133-2"><a href="data-envelopment-analysis.html#cb133-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_C$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_D$&quot;</span>)</span>
<span id="cb133-3"><a href="data-envelopment-analysis.html#cb133-3" aria-hidden="true" tabindex="-1"></a>DMUnames <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>)</span>
<span id="cb133-4"><a href="data-envelopment-analysis.html#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.efficiency)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,<span class="st">&quot;CCR-IO&quot;</span>)</span>
<span id="cb133-5"><a href="data-envelopment-analysis.html#cb133-5" aria-hidden="true" tabindex="-1"></a>eff.crs <span class="ot">&lt;-</span> results.efficiency</span>
<span id="cb133-6"><a href="data-envelopment-analysis.html#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.lambda)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,Lambdanames)</span>
<span id="cb133-7"><a href="data-envelopment-analysis.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">cbind</span>(results.efficiency, results.lambda),</span>
<span id="cb133-8"><a href="data-envelopment-analysis.html#cb133-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">booktabs=</span>T, <span class="at">escape=</span>F, <span class="at">digits=</span><span class="dv">4</span>, <span class="at">caption=</span></span>
<span id="cb133-9"><a href="data-envelopment-analysis.html#cb133-9" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Input-Oriented Efficiency Results&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb133-10"><a href="data-envelopment-analysis.html#cb133-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">&quot;hold_position&quot;</span>))</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Display-Envelopment-Results">TABLE 5.4: </span>Input-Oriented Efficiency Results
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
CCR-IO
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.2500
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.3333
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.3333
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-21">TABLE 5.5: </span>Results with Inefficient DMU Columns Removed.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
CCR-IO
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.2500
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.3333
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
1.3333
</td>
</tr>
</tbody>
</table>
<p>The results match those observed graphically but let’s discuss them. These results indicate that only DMU <em>C</em> is efficient. Rescaled versions of <em>C</em> could produce the same level of output of <em>A</em>, <em>B</em>, or <em>D</em>, while using just 25%, 50%, and 20% less input respectively. The targets of performance for <em>A</em> and <em>B</em> are constructed by scaling down unit <em>C</em> to a much smaller size, as shown by the the values of <span class="math inline">\(\lambda\)</span>. In contrast, <em>D</em>’s performance is surpassed by a 33% larger version of <em>C</em>.</p>
<p>It is an important step of any DEA study to carefully examine the results. In this case, it might be argued that for certain applications, <em>C</em>’s business practices do not readily scale and therefore could not be assumed to operate at a much smaller or larger size. Recall our original application of stores. It might be that practices employed by store C, Trader Carrie’s, do not easily scale to larger or smaller operations. Al’s Pantry (store A) is a much smaller operation and just trying to keep the store in operation with ten employees may be a major challenge. Perhaps all of the stores offer 24 hour a day operation. During the slow time after midnight, Trader Carrie’s could have just one employee working. Meanwhile Al’s Pantry could not stay in business with one third of an employee working at 3 AM!</p>
<p>Similarly, Trader Carrie’s may not scale to larger operations. In a mid-sized store, employees may feel more comfortable with all parts of the store but in a larger store, people work in separate departments such as the produce department and the meat department. This separation by departments may yield benefits or disbenefits.</p>
<p>Up until this point, we have assumed constant returns to scale but there are other versions of returns to scale to better fit the needs of each application. Next, let’s incorporate modeling returns to scale.</p>
</div>
<div id="returns-to-scale" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Returns to Scale</h2>
<p>Let’s also add a constraint that will accommodate returns to scale. All it needs to do is constrain the sum of the <span class="math inline">\(\lambda\)</span> variables equal to 1 enforces variables returns to scale or VRS. or redundant under CRS. </p>
<p><span class="math display" id="eq:LPBCCIOE">\[
\begin{split}
\begin{aligned}
    \text{minimize  }   &amp; \theta \\
    \text{subject to } &amp; \sum_{j=1}^{n} \lambda_j  = 1\\
                       &amp; \sum_{j=1}^{n} x_{i,j}\lambda_j - \theta x_{i,k} \leq 0 \; \forall \; i\\
                       &amp; \sum_{j=1}^{n} y_{r,j}\lambda_j \geq  y_{r,k} \; \forall \; r\\
                       &amp; \lambda_j \geq 0  \; \forall j
  \end{aligned}
 \end{split}
  \tag{5.3} 
\]</span></p>
<p>To incorporate this, we can add another constraint to our previous model and solve it. Let’s define a parameter, “RTS” to describe which returns to scale assumption we are using and only add the VRS constraint when RTS=“VRS.”</p>
<p>The other very common returns to scale option is constant returns to scale or CRS which is what we have used up to this point. For CRS, you can delete the VRS constraint but it may be helpful in some implementations to maintain a consistent model size for reading out sensitivity information. To maintain the number of rows (constraints) we can make it a redundant constraint by constraining the sum of <span class="math inline">\(\lambda\)</span> to be greater than or equal to zero, <span class="math inline">\(\sum_{j=1}^{n} \lambda_j \geq 0\)</span> Since <span class="math inline">\(\lambda\)</span>’s are by definition non-negative, the sum of <span class="math inline">\(\lambda\)</span>’s is also non-negative and therefore the constraint is superfluous or redundant.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-envelopment-analysis.html#cb134-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;VRS&quot;</span></span>
<span id="cb134-2"><a href="data-envelopment-analysis.html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb134-3"><a href="data-envelopment-analysis.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb134-4"><a href="data-envelopment-analysis.html#cb134-4" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                         <span class="sc">|&gt;</span></span>
<span id="cb134-5"><a href="data-envelopment-analysis.html#cb134-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb134-6"><a href="data-envelopment-analysis.html#cb134-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>)                                       <span class="sc">|&gt;</span></span>
<span id="cb134-7"><a href="data-envelopment-analysis.html#cb134-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                  <span class="sc">|&gt;</span></span>
<span id="cb134-8"><a href="data-envelopment-analysis.html#cb134-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                               <span class="sc">|&gt;</span></span>
<span id="cb134-9"><a href="data-envelopment-analysis.html#cb134-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb134-10"><a href="data-envelopment-analysis.html#cb134-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX)           <span class="sc">|&gt;</span></span>
<span id="cb134-11"><a href="data-envelopment-analysis.html#cb134-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb134-12"><a href="data-envelopment-analysis.html#cb134-12" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY) </span>
<span id="cb134-13"><a href="data-envelopment-analysis.html#cb134-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {result <span class="ot">&lt;-</span> <span class="fu">add_constraint</span>(result, </span>
<span id="cb134-14"><a href="data-envelopment-analysis.html#cb134-14" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">sum_expr</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND)</span>
<span id="cb134-15"><a href="data-envelopment-analysis.html#cb134-15" aria-hidden="true" tabindex="-1"></a>                       <span class="sc">==</span> <span class="dv">1</span>) </span>
<span id="cb134-16"><a href="data-envelopment-analysis.html#cb134-16" aria-hidden="true" tabindex="-1"></a>                     }  <span class="co">#Returns to Scale</span></span>
<span id="cb134-17"><a href="data-envelopment-analysis.html#cb134-17" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(result, <span class="fu">with_ROI</span> (<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb134-18"><a href="data-envelopment-analysis.html#cb134-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb134-19"><a href="data-envelopment-analysis.html#cb134-19" aria-hidden="true" tabindex="-1"></a>    results.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta)       </span>
<span id="cb134-20"><a href="data-envelopment-analysis.html#cb134-20" aria-hidden="true" tabindex="-1"></a>    results.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb134-21"><a href="data-envelopment-analysis.html#cb134-21" aria-hidden="true" tabindex="-1"></a>              <span class="fu">get_solution</span>(result, vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb134-22"><a href="data-envelopment-analysis.html#cb134-22" aria-hidden="true" tabindex="-1"></a>}  <span class="co"># Repeat for each unit, k</span></span>
<span id="cb134-23"><a href="data-envelopment-analysis.html#cb134-23" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.efficiency)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">theta^{VRS}$&quot;</span>)</span>
<span id="cb134-24"><a href="data-envelopment-analysis.html#cb134-24" aria-hidden="true" tabindex="-1"></a>eff.vrs <span class="ot">&lt;-</span> results.efficiency</span>
<span id="cb134-25"><a href="data-envelopment-analysis.html#cb134-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.lambda)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,Lambdanames)</span>
<span id="cb134-26"><a href="data-envelopment-analysis.html#cb134-26" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">cbind</span>(results.efficiency, results.lambda),</span>
<span id="cb134-27"><a href="data-envelopment-analysis.html#cb134-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">booktabs=</span>T, <span class="at">escape=</span>F, <span class="at">digits=</span><span class="dv">4</span>, <span class="at">caption=</span></span>
<span id="cb134-28"><a href="data-envelopment-analysis.html#cb134-28" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Input-Oriented VRS Envelopment Results&quot;</span>)               <span class="sc">|&gt;</span></span>
<span id="cb134-29"><a href="data-envelopment-analysis.html#cb134-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Adding-VRS">TABLE 5.6: </span>Input-Oriented VRS Envelopment Results
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{VRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.6111
</td>
<td style="text-align:right;">
0.8889
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1111
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>Notice that the efficiencies have generally increased or stayed the same. Whereas earlier three out of four DMUs were inefficient, now three out of four are efficient. One way of thinking of returns to scale is whether doubling the inputs should be expected to result in doubling the outputs that should be achieved. Another way to think of it is whether it is fair to think of scaling up or down an efficient significantly to set a performance target for a much bigger or smaller unit. For example, would it be <em>fair</em> to compare a small convenience store such as Al’s Pantry or to use a common realworld example, 7-11, to a CostCo store scaled down by a factor of a 100? Much more could be said about returns to scale.</p>
<div class="figure"><span style="display:block;" id="fig:DEA-VRS-Frontier-Plot"></span>
<img src="OMUR_files/figure-html/DEA-VRS-Frontier-Plot-1.png" alt="BCC (VRS) Efficiency Frontier" width="672" />
<p class="caption">
FIGURE 5.3: BCC (VRS) Efficiency Frontier
</p>
</div>
<p>The Constant Returns to Scale, CRS, model is often referred to in the DEA literature by CCR after Charnes, Cooper, and Rhodes <span class="citation">(<a href="#ref-CharnesDataEnvelopmentAnalysis1978" role="doc-biblioref">Charnes, Cooper, and Rhodes 1978</a>)</span>. The Variable Returns to Scale, VRS, model is also referred to as the BCC model after Banker, Charnes, and Cooper. In addition to the CRS and VRS models, two other common approaches are Increasing Returns to Scale (IRS) and Decreasing Returns to Scale (DRS). Technically, IRS is sometimes more precisely referred to as non-decreasing returns to scale. Similarly, DRS corresponds to non-increasing returns to scale. A less commonly used approach is Free Disposal Hull (FDH). In the case of FDH, DMUs are only compared against other individual units. Since it makes use of binary variables and is less commonly used in DEA, we will not implement it in the chapter.          </p>
<table>
<caption>Returns to Scale Envelopment Constraints</caption>
<thead>
<tr class="header">
<th>Returns to Scale</th>
<th>Envelopment Constraint</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CRS</td>
<td>No constraint needed</td>
</tr>
<tr class="even">
<td>VRS</td>
<td><span class="math inline">\(\sum_{j=1}^{N^D} \lambda_j = 1\)</span></td>
</tr>
<tr class="odd">
<td>IRS/NDRS</td>
<td><span class="math inline">\(\sum_{j=1}^{N^D} \lambda_j \geq 1\)</span></td>
</tr>
<tr class="even">
<td>DRS/NIRS</td>
<td><span class="math inline">\(\sum_{j=1}^{N^D} \lambda_j \leq 1\)</span></td>
</tr>
<tr class="odd">
<td>FDH</td>
<td><span class="math inline">\(\sum_{j=1}^{N^D} \lambda_j = 1, \lambda_j \in \{0,1\} \; \forall \; j\)</span></td>
</tr>
</tbody>
</table>
<p>Now, we will generalize this by allowing a parameter to set the returns to scale.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-envelopment-analysis.html#cb135-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;DRS&quot;</span></span>
<span id="cb135-2"><a href="data-envelopment-analysis.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb135-3"><a href="data-envelopment-analysis.html#cb135-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb135-4"><a href="data-envelopment-analysis.html#cb135-4" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                             <span class="sc">|&gt;</span></span>
<span id="cb135-5"><a href="data-envelopment-analysis.html#cb135-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb135-6"><a href="data-envelopment-analysis.html#cb135-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>)                                           <span class="sc">|&gt;</span></span>
<span id="cb135-7"><a href="data-envelopment-analysis.html#cb135-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                      <span class="sc">|&gt;</span></span>
<span id="cb135-8"><a href="data-envelopment-analysis.html#cb135-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb135-9"><a href="data-envelopment-analysis.html#cb135-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb135-10"><a href="data-envelopment-analysis.html#cb135-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX)               <span class="sc">|&gt;</span></span>
<span id="cb135-11"><a href="data-envelopment-analysis.html#cb135-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb135-12"><a href="data-envelopment-analysis.html#cb135-12" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY)</span>
<span id="cb135-13"><a href="data-envelopment-analysis.html#cb135-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {result <span class="ot">&lt;-</span></span>
<span id="cb135-14"><a href="data-envelopment-analysis.html#cb135-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(result, <span class="fu">sum_expr</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">==</span> <span class="dv">1</span>) }  </span>
<span id="cb135-15"><a href="data-envelopment-analysis.html#cb135-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;IRS&quot;</span>) {result <span class="ot">&lt;-</span></span>
<span id="cb135-16"><a href="data-envelopment-analysis.html#cb135-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(result, <span class="fu">sum_expr</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">&gt;=</span> <span class="dv">1</span>) }  </span>
<span id="cb135-17"><a href="data-envelopment-analysis.html#cb135-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;DRS&quot;</span>) {result <span class="ot">&lt;-</span></span>
<span id="cb135-18"><a href="data-envelopment-analysis.html#cb135-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(result, <span class="fu">sum_expr</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">&lt;=</span> <span class="dv">1</span>) }  </span>
<span id="cb135-19"><a href="data-envelopment-analysis.html#cb135-19" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(result, <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb135-20"><a href="data-envelopment-analysis.html#cb135-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb135-21"><a href="data-envelopment-analysis.html#cb135-21" aria-hidden="true" tabindex="-1"></a>    results.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta)       </span>
<span id="cb135-22"><a href="data-envelopment-analysis.html#cb135-22" aria-hidden="true" tabindex="-1"></a>    results.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb135-23"><a href="data-envelopment-analysis.html#cb135-23" aria-hidden="true" tabindex="-1"></a>              <span class="fu">get_solution</span>(result, vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb135-24"><a href="data-envelopment-analysis.html#cb135-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb135-25"><a href="data-envelopment-analysis.html#cb135-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.efficiency)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,<span class="st">&quot;DRS-IO&quot;</span>)</span>
<span id="cb135-26"><a href="data-envelopment-analysis.html#cb135-26" aria-hidden="true" tabindex="-1"></a>eff.drs <span class="ot">&lt;-</span> results.efficiency</span>
<span id="cb135-27"><a href="data-envelopment-analysis.html#cb135-27" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(results.lambda)<span class="ot">&lt;-</span><span class="fu">list</span>(DMUnames,Lambdanames)</span>
<span id="cb135-28"><a href="data-envelopment-analysis.html#cb135-28" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">cbind</span>(results.efficiency, results.lambda),</span>
<span id="cb135-29"><a href="data-envelopment-analysis.html#cb135-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">booktabs=</span>T,  <span class="at">escape=</span>F, <span class="at">digits=</span><span class="dv">4</span>, </span>
<span id="cb135-30"><a href="data-envelopment-analysis.html#cb135-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;Input-Oriented Model with  </span></span>
<span id="cb135-31"><a href="data-envelopment-analysis.html#cb135-31" aria-hidden="true" tabindex="-1"></a><span class="st">        Decreasing Returns to Scale&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb135-32"><a href="data-envelopment-analysis.html#cb135-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Adding-RTS">TABLE 5.7: </span>Input-Oriented Model with<br />
Decreasing Returns to Scale
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
DRS-IO
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.2500
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.3333
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>Simply changing from <code>RTS&lt;-"DRS"</code> to <code>RTS&lt;-"IRS"</code> in the first line allows to now evaluate the Increasing Returns to Scale case.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:stores-IRS">TABLE 5.8: </span>Input-Oriented Increasing Returns
to Scale Model Results
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
IRS-IO
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_A\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_B\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_C\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_D\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.6111
</td>
<td style="text-align:right;">
0.8889
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1111
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
0.8000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.3333
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="figure"><span style="display:block;" id="fig:DEA-IRS-Frontier-Plot"></span>
<img src="OMUR_files/figure-html/DEA-IRS-Frontier-Plot-1.png" alt="Increasing (Non-Decreasing) Returns to Scale Efficiency Frontier" width="672" />
<p class="caption">
FIGURE 5.4: Increasing (Non-Decreasing) Returns to Scale Efficiency Frontier
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:DEA-DRS-Frontier-Plot"></span>
<img src="OMUR_files/figure-html/DEA-DRS-Frontier-Plot-1.png" alt="Decreasing(Non-Increasing) Returns to Scale Efficiency Frontier" width="672" />
<p class="caption">
FIGURE 5.5: Decreasing(Non-Increasing) Returns to Scale Efficiency Frontier
</p>
</div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Compare-RTS-Results">TABLE 5.9: </span>Comparison of Efficiency under
Alternate Returns to Scale Assumptions
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{VRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{DRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{IRS}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.6111
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.6111
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0.8000
</td>
</tr>
</tbody>
</table>
<p></p>
</div>
<div id="multiple-inputs-and-multiple-outputs" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> Multiple Inputs and Multiple Outputs</h2>
<p>Using DEA for two-dimensional examples such as the one-input, one-output model is easy to draw and visualize but overkill and not generally very useful.</p>
<p>Let’s move on to a larger application of examining technology transfer success from university research by revisiting <span class="citation">(<a href="#ref-AndersonMeasuringefficiencyuniversity2007" role="doc-biblioref">Anderson, Daim, and Lavoie 2007</a>)</span>. This paper used data from the Association of University Technology Managers, AUTM, and their 2004 survey. We will start by loading the data from the paper. The dataset can be accessed as a comma separated file (CSV) format from our github repository. Note that in RStudio, many datasets can be easily loaded using the <code>Import Dataset</code>command from under the File pulldown command. This provides a nice graphical user interface wrapper around various importing functions with a preview of the imported data along with R code that can be copied to an R script or RMarkdown document.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-envelopment-analysis.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb136-2"><a href="data-envelopment-analysis.html#cb136-2" aria-hidden="true" tabindex="-1"></a>univ_lic_2007 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;univ_lic_2007.csv&quot;</span>, <span class="at">show_col_types=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p>Next, it is always helpful to look over the dataset. The names of the columns will be long and awkward for displaying results. Let’s abbreviate the names to make it more manageable.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-envelopment-analysis.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(univ_lic_2007) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;University&quot;</span>, <span class="st">&quot;LicInc&quot;</span>, </span>
<span id="cb137-2"><a href="data-envelopment-analysis.html#cb137-2" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;LicOpt&quot;</span>, <span class="st">&quot;Startup&quot;</span>, </span>
<span id="cb137-3"><a href="data-envelopment-analysis.html#cb137-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;PatFile&quot;</span>, <span class="st">&quot;PatIss&quot;</span>, <span class="st">&quot;Spend&quot;</span>)</span>
<span id="cb137-4"><a href="data-envelopment-analysis.html#cb137-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-5"><a href="data-envelopment-analysis.html#cb137-5" aria-hidden="true" tabindex="-1"></a>utt2007 <span class="ot">&lt;-</span> univ_lic_2007 [<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>,] <span class="co"># Use first 25 universities</span></span>
<span id="cb137-6"><a href="data-envelopment-analysis.html#cb137-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-7"><a href="data-envelopment-analysis.html#cb137-7" aria-hidden="true" tabindex="-1"></a>utt2007 <span class="ot">&lt;-</span> utt2007 [,<span class="sc">-</span><span class="dv">5</span>] <span class="co"># Drop the fifth column (Patents Filed)</span></span>
<span id="cb137-8"><a href="data-envelopment-analysis.html#cb137-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-9"><a href="data-envelopment-analysis.html#cb137-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">head</span>(utt2007), <span class="at">booktabs=</span>T, </span>
<span id="cb137-10"><a href="data-envelopment-analysis.html#cb137-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;Simplified Data for University Technology Transfer&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb137-11"><a href="data-envelopment-analysis.html#cb137-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Simplify-data">TABLE 5.10: </span>Simplified Data for University Technology Transfer
</caption>
<thead>
<tr>
<th style="text-align:left;">
University
</th>
<th style="text-align:right;">
LicInc
</th>
<th style="text-align:right;">
LicOpt
</th>
<th style="text-align:right;">
Startup
</th>
<th style="text-align:right;">
PatIss
</th>
<th style="text-align:right;">
Spend
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
New York University
</td>
<td style="text-align:right;">
109.02312
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
244.4150
</td>
</tr>
<tr>
<td style="text-align:left;">
U of California System
</td>
<td style="text-align:right;">
74.27500
</td>
<td style="text-align:right;">
273
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
270
</td>
<td style="text-align:right;">
2791.7770
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Wisconsin at Madison
</td>
<td style="text-align:right;">
47.68917
</td>
<td style="text-align:right;">
203
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
763.8750
</td>
</tr>
<tr>
<td style="text-align:left;">
Stanford
</td>
<td style="text-align:right;">
47.27240
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
693.5299
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Minnesota
</td>
<td style="text-align:right;">
45.55076
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
515.0610
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Florida
</td>
<td style="text-align:right;">
37.40228
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
427.9973
</td>
</tr>
</tbody>
</table>
<p>Rather than using the full dataset. We are going to simplify the data a little. First we limit it to just the first 25 universities instead of the full set of 54. Second, we will drop the measure of patents filed.</p>
<p>Now, let’s prepare our data for the upcoming analyses.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-envelopment-analysis.html#cb138-1" aria-hidden="true" tabindex="-1"></a>xdata <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(utt2007 [,<span class="dv">6</span>])</span>
<span id="cb138-2"><a href="data-envelopment-analysis.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(xdata)<span class="ot">&lt;-</span><span class="fu">as.matrix</span>(utt2007[,<span class="dv">1</span>])</span>
<span id="cb138-3"><a href="data-envelopment-analysis.html#cb138-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-4"><a href="data-envelopment-analysis.html#cb138-4" aria-hidden="true" tabindex="-1"></a>ydata <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(utt2007 [,<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb138-5"><a href="data-envelopment-analysis.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(ydata)<span class="ot">&lt;-</span><span class="fu">as.matrix</span>(utt2007[,<span class="dv">1</span>])</span>
<span id="cb138-6"><a href="data-envelopment-analysis.html#cb138-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-7"><a href="data-envelopment-analysis.html#cb138-7" aria-hidden="true" tabindex="-1"></a>Xnames <span class="ot">&lt;-</span> <span class="fu">colnames</span>(xdata)</span>
<span id="cb138-8"><a href="data-envelopment-analysis.html#cb138-8" aria-hidden="true" tabindex="-1"></a>Ynames <span class="ot">&lt;-</span> <span class="fu">colnames</span>(ydata)</span>
<span id="cb138-9"><a href="data-envelopment-analysis.html#cb138-9" aria-hidden="true" tabindex="-1"></a>DMUnames <span class="ot">&lt;-</span><span class="fu">list</span>(<span class="fu">as.matrix</span>(utt2007[,<span class="dv">1</span>]))</span>
<span id="cb138-10"><a href="data-envelopment-analysis.html#cb138-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-11"><a href="data-envelopment-analysis.html#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(xdata)              <span class="ot">&lt;-</span> <span class="fu">c</span>(DMUnames,Xnames)</span>
<span id="cb138-12"><a href="data-envelopment-analysis.html#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ydata)              <span class="ot">&lt;-</span> Ynames</span>
<span id="cb138-13"><a href="data-envelopment-analysis.html#cb138-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-14"><a href="data-envelopment-analysis.html#cb138-14" aria-hidden="true" tabindex="-1"></a>ND <span class="ot">&lt;-</span> <span class="fu">nrow</span>(xdata)  <span class="co"># Number of DMUs (universities)</span></span>
<span id="cb138-15"><a href="data-envelopment-analysis.html#cb138-15" aria-hidden="true" tabindex="-1"></a>NX <span class="ot">&lt;-</span> <span class="fu">ncol</span>(xdata)  <span class="co"># Number of inputs (just 1 in this case)</span></span>
<span id="cb138-16"><a href="data-envelopment-analysis.html#cb138-16" aria-hidden="true" tabindex="-1"></a>NY <span class="ot">&lt;-</span> <span class="fu">ncol</span>(ydata)  <span class="co"># Number of outputs</span></span>
<span id="cb138-17"><a href="data-envelopment-analysis.html#cb138-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-18"><a href="data-envelopment-analysis.html#cb138-18" aria-hidden="true" tabindex="-1"></a>res.efficiency <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND), <span class="at">nrow=</span>ND, <span class="at">ncol=</span><span class="dv">1</span>)</span>
<span id="cb138-19"><a href="data-envelopment-analysis.html#cb138-19" aria-hidden="true" tabindex="-1"></a>res.lambda     <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">^</span><span class="dv">2</span>), <span class="at">nrow=</span>ND,<span class="at">ncol=</span>ND)</span>
<span id="cb138-20"><a href="data-envelopment-analysis.html#cb138-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(res.efficiency) <span class="ot">&lt;-</span> <span class="fu">c</span>(DMUnames,<span class="st">&quot;CCR-IO&quot;</span>)</span>
<span id="cb138-21"><a href="data-envelopment-analysis.html#cb138-21" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(res.lambda)     <span class="ot">&lt;-</span> <span class="fu">c</span>(DMUnames,DMUnames)</span>
<span id="cb138-22"><a href="data-envelopment-analysis.html#cb138-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-23"><a href="data-envelopment-analysis.html#cb138-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Define printable names to be used as appropriate</span></span>
<span id="cb138-24"><a href="data-envelopment-analysis.html#cb138-24" aria-hidden="true" tabindex="-1"></a>ynames_printable<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Licensing Income</span><span class="sc">\n</span><span class="st">($M)&quot;</span>, </span>
<span id="cb138-25"><a href="data-envelopment-analysis.html#cb138-25" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Licenses and </span><span class="sc">\n</span><span class="st"> Options Executed&quot;</span>,</span>
<span id="cb138-26"><a href="data-envelopment-analysis.html#cb138-26" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Startup Companies&quot;</span>,</span>
<span id="cb138-27"><a href="data-envelopment-analysis.html#cb138-27" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;US Patents Issued&quot;</span>)</span>
<span id="cb138-28"><a href="data-envelopment-analysis.html#cb138-28" aria-hidden="true" tabindex="-1"></a>xnames_printable<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Total Research</span><span class="sc">\n</span><span class="st"> Spending ($M)&quot;</span>)</span>
<span id="cb138-29"><a href="data-envelopment-analysis.html#cb138-29" aria-hidden="true" tabindex="-1"></a>DMUnames_printable <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(utt2007[,<span class="dv">1</span>])</span></code></pre></div>
<p>As usual, let’s preview the data.<br />
</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-envelopment-analysis.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">head</span>(<span class="fu">cbind</span>(xdata,ydata)), <span class="at">booktabs=</span>T, </span>
<span id="cb139-2"><a href="data-envelopment-analysis.html#cb139-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;Selected University Technology </span></span>
<span id="cb139-3"><a href="data-envelopment-analysis.html#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="st">     Transfer Characteristics.&quot;</span>)</span></code></pre></div>
<table>
<caption>
<span id="tab:unnamed-chunk-23">TABLE 5.11: </span>Selected University Technology
Transfer Characteristics.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Spend
</th>
<th style="text-align:right;">
LicInc
</th>
<th style="text-align:right;">
LicOpt
</th>
<th style="text-align:right;">
Startup
</th>
<th style="text-align:right;">
PatIss
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
New York University
</td>
<td style="text-align:right;">
244.4150
</td>
<td style="text-align:right;">
109.02312
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
U of California System
</td>
<td style="text-align:right;">
2791.7770
</td>
<td style="text-align:right;">
74.27500
</td>
<td style="text-align:right;">
273
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
270
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Wisconsin at Madison
</td>
<td style="text-align:right;">
763.8750
</td>
<td style="text-align:right;">
47.68917
</td>
<td style="text-align:right;">
203
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
93
</td>
</tr>
<tr>
<td style="text-align:left;">
Stanford
</td>
<td style="text-align:right;">
693.5299
</td>
<td style="text-align:right;">
47.27240
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
87
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Minnesota
</td>
<td style="text-align:right;">
515.0610
</td>
<td style="text-align:right;">
45.55076
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Florida
</td>
<td style="text-align:right;">
427.9973
</td>
<td style="text-align:right;">
37.40228
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
53
</td>
</tr>
</tbody>
</table>
<p>Now, let’s move on to the DEA input-output diagram. We use the total research spending as an input and then five separate outputs for the various dimensions of technology transfer success measured by AUTM. This can be visualized with our input-output diagram.<br />
</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-envelopment-analysis.html#cb140-1" aria-hidden="true" tabindex="-1"></a>Figure <span class="ot">&lt;-</span> <span class="fu">DrawIOdiagram</span> (xnames_printable, </span>
<span id="cb140-2"><a href="data-envelopment-analysis.html#cb140-2" aria-hidden="true" tabindex="-1"></a>                         ynames_printable,</span>
<span id="cb140-3"><a href="data-envelopment-analysis.html#cb140-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&#39;&quot;</span><span class="sc">\n\n</span><span class="st">University</span><span class="sc">\n</span><span class="st">Technology</span><span class="sc">\n</span><span class="st">Transfer</span><span class="sc">\n\n</span><span class="st">&quot;&#39;</span>)</span>
<span id="cb140-4"><a href="data-envelopment-analysis.html#cb140-4" aria-hidden="true" tabindex="-1"></a>tmp<span class="ot">&lt;-</span><span class="fu">capture.output</span>(<span class="fu">rsvg_png</span>(</span>
<span id="cb140-5"><a href="data-envelopment-analysis.html#cb140-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">charToRaw</span>(<span class="fu">export_svg</span>(Figure)),</span>
<span id="cb140-6"><a href="data-envelopment-analysis.html#cb140-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;images/DEA_Univ_IO.PNG&#39;</span>))</span>
<span id="cb140-7"><a href="data-envelopment-analysis.html#cb140-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(</span>
<span id="cb140-8"><a href="data-envelopment-analysis.html#cb140-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;images/DEA_Univ_IO.PNG&quot;</span>)</span></code></pre></div>
<p><img src="images/DEA_Univ_IO.PNG" width="60%" /></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-envelopment-analysis.html#cb141-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;CRS&quot;</span></span>
<span id="cb141-2"><a href="data-envelopment-analysis.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb141-3"><a href="data-envelopment-analysis.html#cb141-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb141-4"><a href="data-envelopment-analysis.html#cb141-4" aria-hidden="true" tabindex="-1"></a>  modUTT_CCR <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>() <span class="sc">|&gt;</span></span>
<span id="cb141-5"><a href="data-envelopment-analysis.html#cb141-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb141-6"><a href="data-envelopment-analysis.html#cb141-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb141-7"><a href="data-envelopment-analysis.html#cb141-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb141-8"><a href="data-envelopment-analysis.html#cb141-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb141-9"><a href="data-envelopment-analysis.html#cb141-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb141-10"><a href="data-envelopment-analysis.html#cb141-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX, </span>
<span id="cb141-11"><a href="data-envelopment-analysis.html#cb141-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) <span class="sc">|&gt;</span></span>
<span id="cb141-12"><a href="data-envelopment-analysis.html#cb141-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb141-13"><a href="data-envelopment-analysis.html#cb141-13" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY, </span>
<span id="cb141-14"><a href="data-envelopment-analysis.html#cb141-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) </span>
<span id="cb141-15"><a href="data-envelopment-analysis.html#cb141-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {result <span class="ot">&lt;-</span> <span class="fu">add_constraint</span>(result, </span>
<span id="cb141-16"><a href="data-envelopment-analysis.html#cb141-16" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">sum_expr</span>(vlambda[j],<span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">==</span> <span class="dv">1</span>) }  </span>
<span id="cb141-17"><a href="data-envelopment-analysis.html#cb141-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Returns to Scale</span></span>
<span id="cb141-18"><a href="data-envelopment-analysis.html#cb141-18" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(modUTT_CCR, <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb141-19"><a href="data-envelopment-analysis.html#cb141-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb141-20"><a href="data-envelopment-analysis.html#cb141-20" aria-hidden="true" tabindex="-1"></a>  res.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(res, vtheta)       </span>
<span id="cb141-21"><a href="data-envelopment-analysis.html#cb141-21" aria-hidden="true" tabindex="-1"></a>  res.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb141-22"><a href="data-envelopment-analysis.html#cb141-22" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">get_solution</span>(res, vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb141-23"><a href="data-envelopment-analysis.html#cb141-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-envelopment-analysis.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (<span class="fu">cbind</span>(res.efficiency, <span class="fu">poscol</span>(res.lambda)),</span>
<span id="cb142-2"><a href="data-envelopment-analysis.html#cb142-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">booktabs=</span>T, <span class="at">digits=</span><span class="dv">4</span>, <span class="at">escape=</span>F,</span>
<span id="cb142-3"><a href="data-envelopment-analysis.html#cb142-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">theta^{CRS}$&quot;</span>, <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_{</span><span class="sc">\\</span><span class="st">text{NYU}}$&quot;</span>,</span>
<span id="cb142-4"><a href="data-envelopment-analysis.html#cb142-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_{</span><span class="sc">\\</span><span class="st">text{UW-Madison}}$&quot;</span>, </span>
<span id="cb142-5"><a href="data-envelopment-analysis.html#cb142-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;$</span><span class="sc">\\</span><span class="st">lambda_{</span><span class="sc">\\</span><span class="st">text{Cal Tech}}$&quot;</span>),</span>
<span id="cb142-6"><a href="data-envelopment-analysis.html#cb142-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;Results from University Technology </span></span>
<span id="cb142-7"><a href="data-envelopment-analysis.html#cb142-7" aria-hidden="true" tabindex="-1"></a><span class="st">     Transfer Example (CRS)&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb142-8"><a href="data-envelopment-analysis.html#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> </span>
<span id="cb142-9"><a href="data-envelopment-analysis.html#cb142-9" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">&quot;hold_position&quot;</span>, <span class="st">&quot;scale_down&quot;</span>))</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:full-table">TABLE 5.12: </span>Results from University Technology
Transfer Example (CRS)
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_{\text{NYU}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_{\text{UW-Madison}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\lambda_{\text{Cal Tech}}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
New York University
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
U of California System
</td>
<td style="text-align:right;">
0.4663
</td>
<td style="text-align:right;">
0.1074
</td>
<td style="text-align:right;">
1.0661
</td>
<td style="text-align:right;">
1.1858
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Wisconsin at Madison
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
Stanford
</td>
<td style="text-align:right;">
0.6996
</td>
<td style="text-align:right;">
0.2621
</td>
<td style="text-align:right;">
0.2827
</td>
<td style="text-align:right;">
0.5276
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Minnesota
</td>
<td style="text-align:right;">
0.8241
</td>
<td style="text-align:right;">
0.2169
</td>
<td style="text-align:right;">
0.4407
</td>
<td style="text-align:right;">
0.0893
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Florida
</td>
<td style="text-align:right;">
0.8788
</td>
<td style="text-align:right;">
0.2226
</td>
<td style="text-align:right;">
0.1754
</td>
<td style="text-align:right;">
0.4828
</td>
</tr>
<tr>
<td style="text-align:left;">
Michigan State University
</td>
<td style="text-align:right;">
0.7925
</td>
<td style="text-align:right;">
0.2574
</td>
<td style="text-align:right;">
0.1196
</td>
<td style="text-align:right;">
0.2665
</td>
</tr>
<tr>
<td style="text-align:left;">
Wake Forest University
</td>
<td style="text-align:right;">
0.5922
</td>
<td style="text-align:right;">
0.3134
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.0126
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Colorado System
</td>
<td style="text-align:right;">
0.5443
</td>
<td style="text-align:right;">
0.2440
</td>
<td style="text-align:right;">
0.0401
</td>
<td style="text-align:right;">
0.5674
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Rochester
</td>
<td style="text-align:right;">
0.7543
</td>
<td style="text-align:right;">
0.2711
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.4225
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Massachusetts
</td>
<td style="text-align:right;">
0.5053
</td>
<td style="text-align:right;">
0.1751
</td>
<td style="text-align:right;">
0.1352
</td>
<td style="text-align:right;">
0.0735
</td>
</tr>
<tr>
<td style="text-align:left;">
MIT
</td>
<td style="text-align:right;">
0.7856
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.3547
</td>
<td style="text-align:right;">
1.3779
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Washington
</td>
<td style="text-align:right;">
0.4440
</td>
<td style="text-align:right;">
0.0654
</td>
<td style="text-align:right;">
0.2359
</td>
<td style="text-align:right;">
0.4476
</td>
</tr>
<tr>
<td style="text-align:left;">
Emory University
</td>
<td style="text-align:right;">
0.4330
</td>
<td style="text-align:right;">
0.1592
</td>
<td style="text-align:right;">
0.0908
</td>
<td style="text-align:right;">
0.0844
</td>
</tr>
<tr>
<td style="text-align:left;">
Harvard
</td>
<td style="text-align:right;">
0.4208
</td>
<td style="text-align:right;">
0.0498
</td>
<td style="text-align:right;">
0.1846
</td>
<td style="text-align:right;">
0.2451
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Utah
</td>
<td style="text-align:right;">
0.5948
</td>
<td style="text-align:right;">
0.0675
</td>
<td style="text-align:right;">
0.1129
</td>
<td style="text-align:right;">
0.1789
</td>
</tr>
<tr>
<td style="text-align:left;">
Florida State U.
</td>
<td style="text-align:right;">
0.3989
</td>
<td style="text-align:right;">
0.1190
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.1357
</td>
</tr>
<tr>
<td style="text-align:left;">
State U. of New York Research Foundation
</td>
<td style="text-align:right;">
0.4153
</td>
<td style="text-align:right;">
0.0191
</td>
<td style="text-align:right;">
0.1382
</td>
<td style="text-align:right;">
0.4748
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Texas Southwestern Medical Center at Dallas
</td>
<td style="text-align:right;">
0.5318
</td>
<td style="text-align:right;">
0.0359
</td>
<td style="text-align:right;">
0.1273
</td>
<td style="text-align:right;">
0.1573
</td>
</tr>
<tr>
<td style="text-align:left;">
Case Western Reserve U.
</td>
<td style="text-align:right;">
0.5127
</td>
<td style="text-align:right;">
0.0685
</td>
<td style="text-align:right;">
0.0202
</td>
<td style="text-align:right;">
0.2633
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Iowa Research Foundation
</td>
<td style="text-align:right;">
0.6163
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.2066
</td>
<td style="text-align:right;">
0.0900
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Michigan at Ann Arbor
</td>
<td style="text-align:right;">
0.6293
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.1588
</td>
<td style="text-align:right;">
0.9059
</td>
</tr>
<tr>
<td style="text-align:left;">
California Tech
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
1.0000
</td>
</tr>
<tr>
<td style="text-align:left;">
Washington U. in St. Louis
</td>
<td style="text-align:right;">
0.7998
</td>
<td style="text-align:right;">
0.0000
</td>
<td style="text-align:right;">
0.2303
</td>
<td style="text-align:right;">
0.4055
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Chicago UCTech
</td>
<td style="text-align:right;">
0.3717
</td>
<td style="text-align:right;">
0.0271
</td>
<td style="text-align:right;">
0.1043
</td>
<td style="text-align:right;">
0.0893
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data-envelopment-analysis.html#cb143-1" aria-hidden="true" tabindex="-1"></a>UTT_CCR.Res<span class="ot">&lt;-</span><span class="fu">cbind</span>(res.efficiency, res.lambda)</span></code></pre></div>
<p>Note that the results are different from those in the UTT paper because the model is different and the data is trimmed. This model is an input-oriented model with constant returns to scale. In contrast, the UTT paper uses an output-oriented variable returns to scale model with a weight restriction relationship. Recall that the data is trimmed to the first 25 universities and patents filed is dropped as less important than patents issued.</p>
<p>Every DMU is compared to one or more of the efficient DMUs. In this case there are three efficient DMUs. These are New York University (NYU), University of Wisconsin at Madison (UW-Madison), and California Institute of Technology (Cal Tech). The <code>poscol</code> function from the <code>TRA</code> package trimmed out all of the unused columns in the matrix of lambdas.   This then left us with just the efficiency scores and the three columns with values of <span class="math inline">\(\lambda\)</span> for each of these efficient universities. Given the length of the names of the names of the universities, it would still exceed text size. The <code>kableExtra</code> package has an option of <code>scale_down</code> which makes it easy to fit a table in the printable area.</p>
<p>The University of California System, UC-System, receives an efficiency score of 0.4663. It has a target made up of approximately 0.107 of New York University (NYU), 1.066 of the University of Wisconsin at Madison, 1.186 of Cal Tech that produces similar output using only 47% of the input. This means that if the UC-System were operating efficiently as defined in this model, it would be able to produce the same or more outputs as it actually did using only 47% of the input (Research Funding) as it actually used. This target of performance is made up more more than two other full universities and part of a third.</p>
<p>Note that these values are rounded using the <code>digits=4</code> from <code>kable</code>.  The result of this is it masks odd some values of <span class="math inline">\(\lambda\)</span> that could warrant a more careful look. In particular, there may be very small positive or negative numbers in the table that are shown as 0.0000. These numbers are due to computational issues in the linear programming solvers and should be interpreted as zero. Rounding the results can make the tables easier for interpretation by the user. The pander packages makes it easy to round numbers to varying levels of precision. The small, nearly zero, values that may appear in DEA calculations can cause some computational difficulty. For example, testing for zero lambda values could miss cases where the value is approximately but not exactly zero.</p>
<p>Perhaps the leader of the UC-System would contend that running a ten campus university system with over a quarter million students is very much unlike running the others added together (although NYU is also a large system.) This could suggest a Variable Returns to Scale model which reflects that it operating at a very large and very small scale provide special challenges.</p>
<p>Let’s compare the results from the constant and variable returns to scale cases. </p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-envelopment-analysis.html#cb144-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;VRS&quot;</span></span>
<span id="cb144-2"><a href="data-envelopment-analysis.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb144-3"><a href="data-envelopment-analysis.html#cb144-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb144-4"><a href="data-envelopment-analysis.html#cb144-4" aria-hidden="true" tabindex="-1"></a>  modUTT_BCC <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                    <span class="sc">|&gt;</span></span>
<span id="cb144-5"><a href="data-envelopment-analysis.html#cb144-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type=</span><span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb144-6"><a href="data-envelopment-analysis.html#cb144-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>)                                      <span class="sc">|&gt;</span></span>
<span id="cb144-7"><a href="data-envelopment-analysis.html#cb144-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)                 <span class="sc">|&gt;</span></span>
<span id="cb144-8"><a href="data-envelopment-analysis.html#cb144-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                              <span class="sc">|&gt;</span></span>
<span id="cb144-9"><a href="data-envelopment-analysis.html#cb144-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb144-10"><a href="data-envelopment-analysis.html#cb144-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX, </span>
<span id="cb144-11"><a href="data-envelopment-analysis.html#cb144-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> )                 <span class="sc">|&gt;</span></span>
<span id="cb144-12"><a href="data-envelopment-analysis.html#cb144-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, </span>
<span id="cb144-13"><a href="data-envelopment-analysis.html#cb144-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) </span>
<span id="cb144-14"><a href="data-envelopment-analysis.html#cb144-14" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY) </span>
<span id="cb144-15"><a href="data-envelopment-analysis.html#cb144-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {modUTT_BCC <span class="ot">&lt;-</span> </span>
<span id="cb144-16"><a href="data-envelopment-analysis.html#cb144-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(modUTT_BCC, </span>
<span id="cb144-17"><a href="data-envelopment-analysis.html#cb144-17" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">sum_expr</span>(vlambda[j],<span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">==</span> <span class="dv">1</span>) }  </span>
<span id="cb144-18"><a href="data-envelopment-analysis.html#cb144-18" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#Returns to Scale</span></span>
<span id="cb144-19"><a href="data-envelopment-analysis.html#cb144-19" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(modUTT_BCC, <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb144-20"><a href="data-envelopment-analysis.html#cb144-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb144-21"><a href="data-envelopment-analysis.html#cb144-21" aria-hidden="true" tabindex="-1"></a>    res.efficiency[k] <span class="ot">&lt;-</span> <span class="fu">get_solution</span>(res, vtheta)       </span>
<span id="cb144-22"><a href="data-envelopment-analysis.html#cb144-22" aria-hidden="true" tabindex="-1"></a>    res.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb144-23"><a href="data-envelopment-analysis.html#cb144-23" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">get_solution</span>(res, vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb144-24"><a href="data-envelopment-analysis.html#cb144-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb144-25"><a href="data-envelopment-analysis.html#cb144-25" aria-hidden="true" tabindex="-1"></a><span class="co">#UTT_BCC.Res&lt;-cbind(res.efficiency, res.lambda)</span></span>
<span id="cb144-26"><a href="data-envelopment-analysis.html#cb144-26" aria-hidden="true" tabindex="-1"></a>UTT_BCC.Res<span class="ot">&lt;-</span>res.efficiency</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Compare-CRS-to-VRS">TABLE 5.13: </span>Comparison of CRS vs. VRS Efficiency Scores
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\theta^{VRS}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
New York University
</td>
<td style="text-align:right;">
1.000000
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
U of California System
</td>
<td style="text-align:right;">
0.466286
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Wisconsin at Madison
</td>
<td style="text-align:right;">
1.000000
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Stanford
</td>
<td style="text-align:right;">
0.699625
</td>
<td style="text-align:right;">
0.732835
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Minnesota
</td>
<td style="text-align:right;">
0.824059
</td>
<td style="text-align:right;">
0.874977
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Florida
</td>
<td style="text-align:right;">
0.878757
</td>
<td style="text-align:right;">
0.907647
</td>
</tr>
<tr>
<td style="text-align:left;">
Michigan State University
</td>
<td style="text-align:right;">
0.792484
</td>
<td style="text-align:right;">
0.906014
</td>
</tr>
<tr>
<td style="text-align:left;">
Wake Forest University
</td>
<td style="text-align:right;">
0.592206
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Colorado System
</td>
<td style="text-align:right;">
0.544260
</td>
<td style="text-align:right;">
0.571191
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Rochester
</td>
<td style="text-align:right;">
0.754255
</td>
<td style="text-align:right;">
0.850801
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Massachusetts
</td>
<td style="text-align:right;">
0.505347
</td>
<td style="text-align:right;">
0.691422
</td>
</tr>
<tr>
<td style="text-align:left;">
MIT
</td>
<td style="text-align:right;">
0.785563
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
U of Washington
</td>
<td style="text-align:right;">
0.444039
</td>
<td style="text-align:right;">
0.475481
</td>
</tr>
<tr>
<td style="text-align:left;">
Emory University
</td>
<td style="text-align:right;">
0.432986
</td>
<td style="text-align:right;">
0.646545
</td>
</tr>
<tr>
<td style="text-align:left;">
Harvard
</td>
<td style="text-align:right;">
0.420787
</td>
<td style="text-align:right;">
0.513422
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Utah
</td>
<td style="text-align:right;">
0.594784
</td>
<td style="text-align:right;">
0.827146
</td>
</tr>
<tr>
<td style="text-align:left;">
Florida State U.
</td>
<td style="text-align:right;">
0.398852
</td>
<td style="text-align:right;">
0.790456
</td>
</tr>
<tr>
<td style="text-align:left;">
State U. of New York Research Foundation
</td>
<td style="text-align:right;">
0.415255
</td>
<td style="text-align:right;">
0.469800
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Texas Southwestern Medical Center at Dallas
</td>
<td style="text-align:right;">
0.531787
</td>
<td style="text-align:right;">
0.763226
</td>
</tr>
<tr>
<td style="text-align:left;">
Case Western Reserve U.
</td>
<td style="text-align:right;">
0.512656
</td>
<td style="text-align:right;">
0.772125
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Iowa Research Foundation
</td>
<td style="text-align:right;">
0.616331
</td>
<td style="text-align:right;">
0.860436
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Michigan at Ann Arbor
</td>
<td style="text-align:right;">
0.629340
</td>
<td style="text-align:right;">
0.655179
</td>
</tr>
<tr>
<td style="text-align:left;">
California Tech
</td>
<td style="text-align:right;">
1.000000
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Washington U. in St. Louis
</td>
<td style="text-align:right;">
0.799824
</td>
<td style="text-align:right;">
0.894644
</td>
</tr>
<tr>
<td style="text-align:left;">
U. of Chicago UCTech
</td>
<td style="text-align:right;">
0.371733
</td>
<td style="text-align:right;">
0.629332
</td>
</tr>
</tbody>
</table>
<p>A few takeaways from these results:</p>
<ul>
<li>Switching from CRS to VRS will never hurt the efficiency of a DMU. From an optimization perspective, think of this as adding a constraint which will increase or leave unchanged the objective function value from a minimization linear program. </li>
<li>Another way to view the impact of adding a returns to scale assumption is that this makes it <em>easier</em> for a DMU to find some way of being <em>best</em> or efficient. They can do this by now having the largest of any output or the smallest of input as well as many other ways.</li>
<li>At a simple level, the CCR (CRS) efficiency score can be thought of as a combination of how efficient someone is considering their operational and size efficiency. The BCC (VRS) efficiency is how efficient they are given their current operating size.</li>
<li>The use of <code>drop=FALSE</code> in the subsetting of UTT_CCR.Res enables retaining the original structure of the matrix, which allows the column names to remain. The default is drop=TRUE which simplifies the data object into a form that doesn’t have a column name.</li>
</ul>
</div>
<div id="extracting-multiplier-weights-from-sensitivity-analysis" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> Extracting Multiplier Weights from Sensitivity Analysis</h2>
<p>The following process can be used for extracting the shadow prices (row duals) from the linear program results. This extraction is based upon knowing the structure of the model that was built.  </p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data-envelopment-analysis.html#cb145-1" aria-hidden="true" tabindex="-1"></a>res.vweight    <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">*</span>NX), <span class="at">nrow=</span>ND,<span class="at">ncol=</span>NX) </span>
<span id="cb145-2"><a href="data-envelopment-analysis.html#cb145-2" aria-hidden="true" tabindex="-1"></a>res.uweight    <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="fl">1.0</span>, ND<span class="sc">*</span>NY), <span class="at">nrow=</span>ND,<span class="at">ncol=</span>NY) </span>
<span id="cb145-3"><a href="data-envelopment-analysis.html#cb145-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-4"><a href="data-envelopment-analysis.html#cb145-4" aria-hidden="true" tabindex="-1"></a>Vnames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;v&quot;</span>,NX)),paste0,<span class="dv">1</span><span class="sc">:</span>NX) <span class="co"># Input weight: v1, ...</span></span>
<span id="cb145-5"><a href="data-envelopment-analysis.html#cb145-5" aria-hidden="true" tabindex="-1"></a>Unames<span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">list</span>(<span class="fu">rep</span>(<span class="st">&quot;u&quot;</span>,NY)),paste0,<span class="dv">1</span><span class="sc">:</span>NY) <span class="co"># Output weight: u1, ...</span></span>
<span id="cb145-6"><a href="data-envelopment-analysis.html#cb145-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-7"><a href="data-envelopment-analysis.html#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(res.vweight)    <span class="ot">&lt;-</span> <span class="fu">c</span>(DMUnames,Vnames)</span>
<span id="cb145-8"><a href="data-envelopment-analysis.html#cb145-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(res.uweight)    <span class="ot">&lt;-</span> <span class="fu">c</span>(DMUnames,Unames)</span>
<span id="cb145-9"><a href="data-envelopment-analysis.html#cb145-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-10"><a href="data-envelopment-analysis.html#cb145-10" aria-hidden="true" tabindex="-1"></a>rduals <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">get_row_duals</span>(res))</span>
<span id="cb145-11"><a href="data-envelopment-analysis.html#cb145-11" aria-hidden="true" tabindex="-1"></a>res.vweight[k,] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>rduals[<span class="dv">1</span><span class="sc">:</span>NX]</span>
<span id="cb145-12"><a href="data-envelopment-analysis.html#cb145-12" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Extract first NX row duals assuming first constraints are inputs</span></span>
<span id="cb145-13"><a href="data-envelopment-analysis.html#cb145-13" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Multiply input weights by -1 to adjust for inequality direction</span></span>
<span id="cb145-14"><a href="data-envelopment-analysis.html#cb145-14" aria-hidden="true" tabindex="-1"></a>res.uweight[k,] <span class="ot">&lt;-</span> rduals[(NX<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(NX<span class="sc">+</span>NY)]</span>
<span id="cb145-15"><a href="data-envelopment-analysis.html#cb145-15" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Extract next NY row duals, assuming output constraints follow inputs </span></span>
<span id="cb145-16"><a href="data-envelopment-analysis.html#cb145-16" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">c</span>(res.vweight[k,],res.uweight[k,]))</span>
<span id="cb145-17"><a href="data-envelopment-analysis.html#cb145-17" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span> (weights, <span class="at">booktabs=</span>T, <span class="at">digits=</span><span class="dv">5</span>, <span class="at">escape=</span>F,</span>
<span id="cb145-18"><a href="data-envelopment-analysis.html#cb145-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">col.names=</span><span class="fu">c</span>(<span class="st">&quot;$v_{</span><span class="sc">\\</span><span class="st">text{Research Spending}}$&quot;</span>,</span>
<span id="cb145-19"><a href="data-envelopment-analysis.html#cb145-19" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;$u_{</span><span class="sc">\\</span><span class="st">text{Licensing Income}}$&quot;</span>,</span>
<span id="cb145-20"><a href="data-envelopment-analysis.html#cb145-20" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;$u_{</span><span class="sc">\\</span><span class="st">text{Licenses and Options}}$&quot;</span>,</span>
<span id="cb145-21"><a href="data-envelopment-analysis.html#cb145-21" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;$u_{</span><span class="sc">\\</span><span class="st">text{Startups}}$&quot;</span>,</span>
<span id="cb145-22"><a href="data-envelopment-analysis.html#cb145-22" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;$u_{</span><span class="sc">\\</span><span class="st">text{Patents Issued}}$&quot;</span>),</span>
<span id="cb145-23"><a href="data-envelopment-analysis.html#cb145-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">row.names=</span>F,</span>
<span id="cb145-24"><a href="data-envelopment-analysis.html#cb145-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">caption=</span><span class="st">&quot;Input and Output Weights for Last DMU&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb145-25"><a href="data-envelopment-analysis.html#cb145-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:Multiplier-Weights-from-Env-Model">TABLE 5.14: </span>Input and Output Weights for Last DMU
</caption>
<thead>
<tr>
<th style="text-align:right;">
<span class="math inline">\(v_{\text{Research Spending}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Licensing Income}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Licenses and Options}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Startups}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Patents Issued}}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.00307
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00835
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00342
</td>
</tr>
</tbody>
</table>
<p>These results are for just the last unit examined.</p>
<p>Let’s now wrap this into the full series of linear programs to calculate the multiplier weights for each unit.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-envelopment-analysis.html#cb146-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;CRS&quot;</span></span>
<span id="cb146-2"><a href="data-envelopment-analysis.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb146-3"><a href="data-envelopment-analysis.html#cb146-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb146-4"><a href="data-envelopment-analysis.html#cb146-4" aria-hidden="true" tabindex="-1"></a>  modUTT_CRS <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>() <span class="sc">|&gt;</span></span>
<span id="cb146-5"><a href="data-envelopment-analysis.html#cb146-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb146-6"><a href="data-envelopment-analysis.html#cb146-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb146-7"><a href="data-envelopment-analysis.html#cb146-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb146-8"><a href="data-envelopment-analysis.html#cb146-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb146-9"><a href="data-envelopment-analysis.html#cb146-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb146-10"><a href="data-envelopment-analysis.html#cb146-10" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&lt;=</span> vtheta <span class="sc">*</span> xdata[k,i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX, </span>
<span id="cb146-11"><a href="data-envelopment-analysis.html#cb146-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) <span class="sc">|&gt;</span></span>
<span id="cb146-12"><a href="data-envelopment-analysis.html#cb146-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb146-13"><a href="data-envelopment-analysis.html#cb146-13" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">&gt;=</span> ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY, </span>
<span id="cb146-14"><a href="data-envelopment-analysis.html#cb146-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) </span>
<span id="cb146-15"><a href="data-envelopment-analysis.html#cb146-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {modUTT_CRS <span class="ot">&lt;-</span> </span>
<span id="cb146-16"><a href="data-envelopment-analysis.html#cb146-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(modUTT_CRS, </span>
<span id="cb146-17"><a href="data-envelopment-analysis.html#cb146-17" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">sum_expr</span>(vlambda[j],<span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">==</span> <span class="dv">1</span>) }  </span>
<span id="cb146-18"><a href="data-envelopment-analysis.html#cb146-18" aria-hidden="true" tabindex="-1"></a>    resUTT_CRS <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(modUTT_CRS, </span>
<span id="cb146-19"><a href="data-envelopment-analysis.html#cb146-19" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb146-20"><a href="data-envelopment-analysis.html#cb146-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb146-21"><a href="data-envelopment-analysis.html#cb146-21" aria-hidden="true" tabindex="-1"></a>    res.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(resUTT_CRS, vtheta)       </span>
<span id="cb146-22"><a href="data-envelopment-analysis.html#cb146-22" aria-hidden="true" tabindex="-1"></a>    res.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">as.numeric</span>(</span>
<span id="cb146-23"><a href="data-envelopment-analysis.html#cb146-23" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">get_solution</span>(resUTT_CRS, </span>
<span id="cb146-24"><a href="data-envelopment-analysis.html#cb146-24" aria-hidden="true" tabindex="-1"></a>                                  vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb146-25"><a href="data-envelopment-analysis.html#cb146-25" aria-hidden="true" tabindex="-1"></a>    rduals  <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">get_row_duals</span>(resUTT_CRS))</span>
<span id="cb146-26"><a href="data-envelopment-analysis.html#cb146-26" aria-hidden="true" tabindex="-1"></a>    res.vweight[k,] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>rduals[<span class="dv">1</span><span class="sc">:</span>NX]</span>
<span id="cb146-27"><a href="data-envelopment-analysis.html#cb146-27" aria-hidden="true" tabindex="-1"></a>    res.uweight[k,] <span class="ot">&lt;-</span> rduals[(NX<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(NX<span class="sc">+</span>NY)]</span>
<span id="cb146-28"><a href="data-envelopment-analysis.html#cb146-28" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-24">TABLE 5.15: </span>Multiplier Weights from UTT Example
</caption>
<thead>
<tr>
<th style="text-align:right;">
<span class="math inline">\(\theta^{CRS}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(v_{\text{Research Spending}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Licensing Income}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Licenses and Options}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Startups}}\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(u_{\text{Patents Issued}}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1.00000
</td>
<td style="text-align:right;">
0.00409
</td>
<td style="text-align:right;">
0.00528
</td>
<td style="text-align:right;">
0.01416
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.46629
</td>
<td style="text-align:right;">
0.00036
</td>
<td style="text-align:right;">
0.00040
</td>
<td style="text-align:right;">
0.00096
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00065
</td>
</tr>
<tr>
<td style="text-align:right;">
1.00000
</td>
<td style="text-align:right;">
0.00131
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00493
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.69963
</td>
<td style="text-align:right;">
0.00144
</td>
<td style="text-align:right;">
0.00101
</td>
<td style="text-align:right;">
0.00496
</td>
<td style="text-align:right;">
0.02340
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.82406
</td>
<td style="text-align:right;">
0.00194
</td>
<td style="text-align:right;">
0.00136
</td>
<td style="text-align:right;">
0.00668
</td>
<td style="text-align:right;">
0.03151
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.87876
</td>
<td style="text-align:right;">
0.00234
</td>
<td style="text-align:right;">
0.00164
</td>
<td style="text-align:right;">
0.00803
</td>
<td style="text-align:right;">
0.03792
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.79248
</td>
<td style="text-align:right;">
0.00307
</td>
<td style="text-align:right;">
0.00215
</td>
<td style="text-align:right;">
0.01056
</td>
<td style="text-align:right;">
0.04987
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.59221
</td>
<td style="text-align:right;">
0.00727
</td>
<td style="text-align:right;">
0.01227
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.01904
</td>
</tr>
<tr>
<td style="text-align:right;">
0.54426
</td>
<td style="text-align:right;">
0.00175
</td>
<td style="text-align:right;">
0.00123
</td>
<td style="text-align:right;">
0.00602
</td>
<td style="text-align:right;">
0.02841
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.75426
</td>
<td style="text-align:right;">
0.00327
</td>
<td style="text-align:right;">
0.00411
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.08796
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.50535
</td>
<td style="text-align:right;">
0.00289
</td>
<td style="text-align:right;">
0.00203
</td>
<td style="text-align:right;">
0.00995
</td>
<td style="text-align:right;">
0.04697
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.78556
</td>
<td style="text-align:right;">
0.00097
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00351
</td>
<td style="text-align:right;">
0.01577
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.44404
</td>
<td style="text-align:right;">
0.00120
</td>
<td style="text-align:right;">
0.00084
</td>
<td style="text-align:right;">
0.00412
</td>
<td style="text-align:right;">
0.01946
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.43299
</td>
<td style="text-align:right;">
0.00307
</td>
<td style="text-align:right;">
0.00215
</td>
<td style="text-align:right;">
0.01055
</td>
<td style="text-align:right;">
0.04982
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.42079
</td>
<td style="text-align:right;">
0.00169
</td>
<td style="text-align:right;">
0.00119
</td>
<td style="text-align:right;">
0.00582
</td>
<td style="text-align:right;">
0.02748
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.59478
</td>
<td style="text-align:right;">
0.00345
</td>
<td style="text-align:right;">
0.00242
</td>
<td style="text-align:right;">
0.01187
</td>
<td style="text-align:right;">
0.05602
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.39885
</td>
<td style="text-align:right;">
0.00487
</td>
<td style="text-align:right;">
0.00823
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.01277
</td>
</tr>
<tr>
<td style="text-align:right;">
0.41526
</td>
<td style="text-align:right;">
0.00141
</td>
<td style="text-align:right;">
0.00099
</td>
<td style="text-align:right;">
0.00484
</td>
<td style="text-align:right;">
0.02286
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.53179
</td>
<td style="text-align:right;">
0.00318
</td>
<td style="text-align:right;">
0.00358
</td>
<td style="text-align:right;">
0.00848
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00577
</td>
</tr>
<tr>
<td style="text-align:right;">
0.51266
</td>
<td style="text-align:right;">
0.00381
</td>
<td style="text-align:right;">
0.00267
</td>
<td style="text-align:right;">
0.01310
</td>
<td style="text-align:right;">
0.06185
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.61633
</td>
<td style="text-align:right;">
0.00320
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00938
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00578
</td>
</tr>
<tr>
<td style="text-align:right;">
0.62934
</td>
<td style="text-align:right;">
0.00133
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00479
</td>
<td style="text-align:right;">
0.02152
</td>
<td style="text-align:right;">
0.00000
</td>
</tr>
<tr>
<td style="text-align:right;">
1.00000
</td>
<td style="text-align:right;">
0.00257
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00755
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00465
</td>
</tr>
<tr>
<td style="text-align:right;">
0.79982
</td>
<td style="text-align:right;">
0.00240
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00703
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00434
</td>
</tr>
<tr>
<td style="text-align:right;">
0.37173
</td>
<td style="text-align:right;">
0.00307
</td>
<td style="text-align:right;">
0.00346
</td>
<td style="text-align:right;">
0.00819
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
0.00558
</td>
</tr>
</tbody>
</table>
<p>A few things should be noticed with respect to the multiplier weights:</p>
<ul>
<li>Multiplier weights can be quite small because in general, they are multiplied by inputs and the product is typically less than one. They may appear to round to zero but still be significant.</li>
<li>Multiplier weights are not unique for strongly efficient DMUs. This is explored in more detail in the multiplier chapter of <em>DEA Using R</em> and in other DEA specific publications.</li>
<li>Multiplier weights are usually unique for inefficient DMUs and should match the results obtained using either the row duals of the envelopment model or those obtained directly from the multiplier model.</li>
<li>People new to DEA are often “offended” by units that place zero weight on certain inputs or on certain outputs as was done by nursing homes B and D. Approaches such as weight restrictions exist to deal with this directly should this be a problem but should be carefully considered.</li>
</ul>
</div>
<div id="slack-maximization" class="section level2" number="5.9">
<h2><span class="header-section-number">5.9</span> Slack Maximization</h2>
<p>Situations can arise where units may appear to be radially efficient but can still find opportunities to improve one or more inputs or outputs. This is defined as being weakly efficient.</p>
<p>In order to accommodate this, we need to extend the simple radial model by adding variables to reflect nonradial slacks. We do this by converting the model’s input and output constraints from inequalities into equalities by explicitly defining slack variables. </p>
<p><span class="math display" id="eq:LPCCRIOE-Slacks">\[
\begin{split}
 \begin{aligned}
    \text{minimize  }   &amp; \theta \\
    \text{subject to } &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j - \theta x_{i,k} + s^x_i = 0 \; \forall \; i\\
 &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j - s^y_r =  y_{r,k} \; \forall \; r\\
                       &amp; \lambda_j , s^x_i, s^y_r \geq 0  \; \forall \; j,i,r
  \end{aligned}
   \end{split}
  \tag{5.4}
\]</span></p>
<p>Simply formulating the model with slacks is insufficient. We want to maximize these slacks after having found the best possible radial contraction (minimum value of <span class="math inline">\(\theta\)</span>.) This is done by adding a term summing the slacks to the objective function. Note that this sum of slacks is multiplied by <span class="math inline">\(\epsilon\)</span> which is a non-Archimedean infinitesimal.<br />
</p>
<p>The value of <span class="math inline">\(\epsilon\)</span> should be considered to be so small as to ensure that minimizing theta takes priority or maximizing the sum of slacks. Note also that maximizing the sum of slacks is denoted by minimizing the negative sum of slacks.<br />
</p>
<p><span class="math display" id="eq:LPCCRIOE-Two-Phase">\[
\begin{split}
 \begin{aligned}
    \text{minimize  }   &amp; \theta - \epsilon ( \sum_{i} s^x_i + \sum_{r} s^y_r)\\
    \text{subject to } &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j - \theta x_{i,k} + s^x_i = 0 \; \forall \; i\\
                       &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j - s^y_r =  y_{r,k} \; \forall \; r\\
                       &amp; \lambda_j , s^x_i, s^y_r \geq 0  \; \forall \; j,i,r
  \end{aligned}
 \end{split}
  \tag{5.5}
\]</span></p>
<p>A common mistake in implementing DEA is to use a finite approximation for <span class="math inline">\(\epsilon\)</span> such as <span class="math inline">\(10^{-6}\)</span>. Any finite value can cause distortions in <span class="math inline">\(\theta\)</span>. For example, an application comparing companies using revenue and expenses might have inputs and outputs on the order of millions or billions. In this case, non-radial slacks could also be on the order of <span class="math inline">\(10^{6}\)</span>. Multiplying the two results in a value similar in magnitude to the maximum possible efficiency score (<span class="math inline">\(10^{-6} \cdot 10^{6}=1\)</span>) which would then potentially overwhelm the radial efficiency, <span class="math inline">\(\theta\)</span>, part of the objective function and lead to distorted results.<br />
</p>
<p>The proper way to implement slack maximization is to treat it as a preemptive goal programming problem. The primary goal is to minimize <span class="math inline">\(\theta\)</span> in a first phase linear program and the second goal, holding the level of <span class="math inline">\(\theta\)</span> fixed from the first phase, is to then maximize the sum of the slacks.<br />
</p>
<p>The first phase can take the form of any of our earlier linear programs without the <span class="math inline">\(\epsilon\)</span> and sum of slacks in the objective function. The second phase is the following where <span class="math inline">\(\theta^*\)</span> is the optimal value from phase one and <span class="math inline">\(\theta\)</span> is then held constant in the second phase. This is implemented by adding a constraint, <span class="math inline">\(\theta=\theta^*\)</span> to the second phase linear program.<br />
</p>
<p><span class="math display" id="eq:LPCCRIOE-Second-Phase">\[
\begin{split}
 \begin{aligned}
    \text{maximize  }  &amp; \sum_{i}s^x_i + \sum_{r}s^y_r\\
    \text{subject to } &amp; \sum_{j=1}^{N^D} \lambda_j  = 1\\
                       &amp; \sum_{j=1}^{N^D} x_{i,j}\lambda_j - \theta x_{i,k} + s^x_i = 0 \; \forall \; i\\
                       &amp; \sum_{j=1}^{N^D} y_{r,j}\lambda_j - s^y_r =  y_{r,k} \; \forall \; r\\
                       &amp; \theta = \theta^*\\
                       &amp; \lambda_j , s^x_i, s^y_r \geq 0  \; \forall \; j,i,r
  \end{aligned}
\end{split}
\tag{5.6}
\]</span></p>
<p>Implementing this is straightforward.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-envelopment-analysis.html#cb147-1" aria-hidden="true" tabindex="-1"></a>RTS<span class="ot">&lt;-</span><span class="st">&quot;CRS&quot;</span></span>
<span id="cb147-2"><a href="data-envelopment-analysis.html#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>ND) {</span>
<span id="cb147-3"><a href="data-envelopment-analysis.html#cb147-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb147-4"><a href="data-envelopment-analysis.html#cb147-4" aria-hidden="true" tabindex="-1"></a>  LPSlack <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>()                                     <span class="sc">|&gt;</span></span>
<span id="cb147-5"><a href="data-envelopment-analysis.html#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vlambda[j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb147-6"><a href="data-envelopment-analysis.html#cb147-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb =</span> <span class="dv">0</span>)                                    <span class="sc">|&gt;</span></span>
<span id="cb147-7"><a href="data-envelopment-analysis.html#cb147-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(vtheta, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)               <span class="sc">|&gt;</span></span>
<span id="cb147-8"><a href="data-envelopment-analysis.html#cb147-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(xslack[i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb147-9"><a href="data-envelopment-analysis.html#cb147-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb=</span><span class="dv">0</span>)                                      <span class="sc">|&gt;</span></span>
<span id="cb147-10"><a href="data-envelopment-analysis.html#cb147-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_variable</span>(yslack[r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>, </span>
<span id="cb147-11"><a href="data-envelopment-analysis.html#cb147-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lb=</span><span class="dv">0</span>)                                      <span class="sc">|&gt;</span></span>
<span id="cb147-12"><a href="data-envelopment-analysis.html#cb147-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-13"><a href="data-envelopment-analysis.html#cb147-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(vtheta, <span class="st">&quot;min&quot;</span>)                            <span class="sc">|&gt;</span></span>
<span id="cb147-14"><a href="data-envelopment-analysis.html#cb147-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-15"><a href="data-envelopment-analysis.html#cb147-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> xdata[j,i] <span class="sc">+</span> </span>
<span id="cb147-16"><a href="data-envelopment-analysis.html#cb147-16" aria-hidden="true" tabindex="-1"></a>                              xslack[i], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb147-17"><a href="data-envelopment-analysis.html#cb147-17" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">-</span> vtheta <span class="sc">*</span> xdata[k,i]<span class="sc">==</span><span class="dv">0</span>, <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>NX, </span>
<span id="cb147-18"><a href="data-envelopment-analysis.html#cb147-18" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> )               <span class="sc">|&gt;</span></span>
<span id="cb147-19"><a href="data-envelopment-analysis.html#cb147-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-20"><a href="data-envelopment-analysis.html#cb147-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(vlambda[j] <span class="sc">*</span> ydata[j,r] <span class="sc">-</span></span>
<span id="cb147-21"><a href="data-envelopment-analysis.html#cb147-21" aria-hidden="true" tabindex="-1"></a>                              yslack[r], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) </span>
<span id="cb147-22"><a href="data-envelopment-analysis.html#cb147-22" aria-hidden="true" tabindex="-1"></a>                    <span class="sc">==</span>ydata[k,r], <span class="at">r =</span> <span class="dv">1</span><span class="sc">:</span>NY, </span>
<span id="cb147-23"><a href="data-envelopment-analysis.html#cb147-23" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.show_progress_bar=</span><span class="cn">FALSE</span> ) </span>
<span id="cb147-24"><a href="data-envelopment-analysis.html#cb147-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (RTS<span class="sc">==</span><span class="st">&quot;VRS&quot;</span>) {LPSlack<span class="ot">&lt;-</span></span>
<span id="cb147-25"><a href="data-envelopment-analysis.html#cb147-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">add_constraint</span>(LPSlack, <span class="fu">sum_expr</span>(vlambda[j],</span>
<span id="cb147-26"><a href="data-envelopment-analysis.html#cb147-26" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>ND) <span class="sc">==</span> <span class="dv">1</span>) }  </span>
<span id="cb147-27"><a href="data-envelopment-analysis.html#cb147-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Returns to Scale</span></span>
<span id="cb147-28"><a href="data-envelopment-analysis.html#cb147-28" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(LPSlack, <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb147-29"><a href="data-envelopment-analysis.html#cb147-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The following are key steps to slack maximization </span></span>
<span id="cb147-30"><a href="data-envelopment-analysis.html#cb147-30" aria-hidden="true" tabindex="-1"></a>    phase1obj <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta)  </span>
<span id="cb147-31"><a href="data-envelopment-analysis.html#cb147-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get Phase 1 objective value</span></span>
<span id="cb147-32"><a href="data-envelopment-analysis.html#cb147-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_constraint</span>(LPSlack, vtheta<span class="sc">==</span>phase1obj)   </span>
<span id="cb147-33"><a href="data-envelopment-analysis.html#cb147-33" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Passing result from phase 1 to phase 2</span></span>
<span id="cb147-34"><a href="data-envelopment-analysis.html#cb147-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb147-35"><a href="data-envelopment-analysis.html#cb147-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_objective</span>(LPSlack, <span class="fu">sum_expr</span>(</span>
<span id="cb147-36"><a href="data-envelopment-analysis.html#cb147-36" aria-hidden="true" tabindex="-1"></a>              xslack[i], <span class="at">i=</span><span class="dv">1</span><span class="sc">:</span>NX)<span class="sc">+</span><span class="fu">sum_expr</span>(</span>
<span id="cb147-37"><a href="data-envelopment-analysis.html#cb147-37" aria-hidden="true" tabindex="-1"></a>                yslack[r], <span class="at">r=</span><span class="dv">1</span><span class="sc">:</span>NY), <span class="st">&quot;max&quot;</span>)</span>
<span id="cb147-38"><a href="data-envelopment-analysis.html#cb147-38" aria-hidden="true" tabindex="-1"></a>          <span class="co"># Modify the objective function for phase 2</span></span>
<span id="cb147-39"><a href="data-envelopment-analysis.html#cb147-39" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> <span class="fu">solve_model</span>(LPSlack, <span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">&quot;glpk&quot;</span>)) </span>
<span id="cb147-40"><a href="data-envelopment-analysis.html#cb147-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb147-41"><a href="data-envelopment-analysis.html#cb147-41" aria-hidden="true" tabindex="-1"></a>    res.efficiency[k] <span class="ot">&lt;-</span>  <span class="fu">get_solution</span>(result, vtheta)       </span>
<span id="cb147-42"><a href="data-envelopment-analysis.html#cb147-42" aria-hidden="true" tabindex="-1"></a>    res.lambda[k,] <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(</span>
<span id="cb147-43"><a href="data-envelopment-analysis.html#cb147-43" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">as.numeric</span>(<span class="fu">get_solution</span>(result, </span>
<span id="cb147-44"><a href="data-envelopment-analysis.html#cb147-44" aria-hidden="true" tabindex="-1"></a>                                         vlambda[j])[,<span class="dv">3</span>] )))</span>
<span id="cb147-45"><a href="data-envelopment-analysis.html#cb147-45" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-envelopment-analysis.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">head</span>(<span class="fu">cbind</span>(res.efficiency,<span class="fu">poscol</span>(res.lambda[<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>,]))),</span>
<span id="cb148-2"><a href="data-envelopment-analysis.html#cb148-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">booktabs=</span>T, <span class="at">escape=</span>F,</span>
<span id="cb148-3"><a href="data-envelopment-analysis.html#cb148-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption=</span><span class="st">&quot;Selected Input-oriented Efficiency Results </span></span>
<span id="cb148-4"><a href="data-envelopment-analysis.html#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="st">    with Slack Maximization&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb148-5"><a href="data-envelopment-analysis.html#cb148-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="st">&quot;hold_position&quot;</span>)</span></code></pre></div>
</div>
<div id="dea-packages" class="section level2" number="5.10">
<h2><span class="header-section-number">5.10</span> DEA Packages</h2>
<p>Over the years, there have been several R packages developed for doing DEA. Each package is often developed by a researcher or team for their specific needs. Some continue to be enhanced over time. At this point the reader will have an understanding of many of the basics of the implementation and have a greater appreciation of how the packages. The following packages are currently available through CRAN.</p>
<ul>
<li><code>Benchmarking</code> by Bogetoft and Otto stands out for the comprehensive toolset and documentation in their book.</li>
<li><code>deaR</code> provides some interesting classic datasets along with both standard and less commonly used variations of DEA.</li>
<li><code>DJL</code> incorporates a variety of DEA techniques and is officially an abbreviation of distance measurement based judgement and learning. Perhaps not too coincidentally, it matches the author’s, Dong-Joon Lim’s, initials.</li>
<li><code>MultiplierDEA</code> was developed by Aurobindh Kalathil Kumar from Portland State University and emphasizes the multiplier model of DEA.</li>
<li><code>nonparaeff</code> draws its name from the nonparametric nature of DEA.</li>
<li><code>rDEA</code> stands for Robust DEA.</li>
</ul>
<p>In each case, the notation for calling DEA varies. This includes the way that data is structured, how returns to scale is specified, whether a second phase for slack maximization is conducted, and more. The result is that reading the help file for a package is necessary.</p>
</div>
<div id="dea-model-building" class="section level2" number="5.11">
<h2><span class="header-section-number">5.11</span> DEA Model Building</h2>
<blockquote>
<p>“All models are wrong but some are useful” - George Box, 1978</p>
</blockquote>
<div id="selection-of-inputs-and-outputs" class="section level3" number="5.11.1">
<h3><span class="header-section-number">5.11.1</span> Selection of Inputs and Outputs</h3>
<p>At its simplest, the analyst should try to build a model that reflects the most important resources used in the production of the unit’s most important outputs. No DEA input-model is perfect and they all represent tradeoffs between data availability, accuracy, and other issues.</p>
<p>The subject of DEA model building is involved and arguably as much an art as it is a science. Economists will argue (correctly) that the production function axioms that underlie theoretical foundations of DEA require that inputs can have tradeoffs between them in the production of the outputs and that outputs also have tradeoffs between them. Also, that all inputs contribute to all outputs. In other words, a benchmarking study of hospitals that had as one one of the inputs heart surgeons and as one of the outputs heart transplants performed but another output such as kidney transplants could be problematic.</p>
<p>Data Envelopment Analysis is by its very name data driven. This highlights the fact that data is needed for conducting the analysis. Unlike multiple regression in which the need for more observations as a function of the number of independent variables is well known, there is no simple sufficiency test for DEA models. Common heuristics of needing at least three times as many DMUs as the input-output model complexity is generally helpful. (Note that model complexity is sometimes interpreted as number of inputs plus the number of outputs or as the product of the number of inputs and outputs.)</p>
<p>Since DMUs can be efficient by being the best on any ratio of an output to an input, the higher the number of inputs and outputs, the less <em>discrimination</em> between DMUs is typically found. This <em>curse of dimensionality</em> means that highly complex models may find most or all DMUs to be efficient. Forced fixes to adjust for this often lead to difficulties.</p>
<p>Correlations among inputs and correlations among outputs do not generally affect the efficiency score. In effect, two highly correlated inputs tend to behave like one and do not increase the <em>curse of dimensionality</em> although they might have unintended consequences elsewhere and violate production economics ideas. Also, they may cause multiplier weights to be less interpretable.</p>
<p>Note that if an input or an output is inaccurate, this affects the accuracy of the final efficiency scores.</p>
<p>Furthermore, DEA is an extreme point technique. As such, it is important that the frontier points be valid instances. A bad data point (DMU) can have a profound affect on the efficiency of many other units. As such, the analyst should carefully review the efficient points. (Techniques such as super-efficiency can be used to highlight and prioritize efficient DMUs worth detailed examination.)</p>
</div>
<div id="model-choices" class="section level3" number="5.11.2">
<h3><span class="header-section-number">5.11.2</span> Model Choices</h3>
<p>The issues of returns to scale and input vs. output-orientation should be carefully justified in terms of the particular application being examined.</p>
<p>With respect to returns to scale, it is straightforward to examine results and consider what makes the most sense in the application. Does it really make sense to scale up or down a unit to an extreme extent without distorting their actual operations? </p>
<p>In terms of orientation, is the primary goal to increase outputs or decrease inputs? Note that there are DEA models that allow for both simultaneously but input and output orientation remain the most commonly used orientations. <br />
</p>
</div>
<div id="application-area-expertise" class="section level3" number="5.11.3">
<h3><span class="header-section-number">5.11.3</span> Application Area Expertise</h3>
<p>It is always critical to bring solid application expertise to any DEA study in all phases of model building and at the interpretation stage as well. Years ago, I did a study of university technology transfer performance and found the efficient universities included schools that might be expected such as MIT and Georgia Tech but I found the inclusion of BYU surprising. I went and talked with Julie Reed, a lawyer specializing intellectual proper and technology transfer. She said that she was not at all surprised to see BYU listed as efficient-they are small but very highly respected for their technology transfer. While not a formal validation, this is an indirect form of validation.</p>
<p>There is no detailed statistical test for the validity of a DEA model and results. This means that there is greater responsibility on the analyst to ensure that a meaningful model was built and appropriate model options were used.</p>
<p>Lastly, it is always helpful to look to the literature. With over 10,000 published DEA papers since 1977, you can almost always find a paper in the same or similar application area. Look at the authors’ choices of inputs and output as well as the particulars of the DEA model being used. This can serve as a starting point for building an even better paper. Having said that, just because a paper or presentation uses a particular input-output model doesn’t mean that it is a good model. A recent presentation at a major international conference highlights that previous studies are not always great examples. The authors conducted a benchmarking study of hospitals. The inputs were relatively traditional such as number of nurses and hospital beds. Outputs included traditional measures such as the number of patients served but one output was unique, <em>number of deaths</em> - yes, researcher based his analysis on the implicit assumption that the route to efficiency for inefficient hospitals was to <em>increase the number of deaths!</em> While the research stated that this was a measure of workload for the hospital, this clearly a bad modeling choice. There are DEA models that can accommodate “bad outputs” such as toxic byproducts in manufacturing or energy product. Another option would be to emphasize the lives saved.</p>
<p>In short, a DEA application should always bring together both application area expertise and familiarity with DEA to ensure meaningful results.</p>
</div>
</div>
<div id="further-reading" class="section level2" number="5.12">
<h2><span class="header-section-number">5.12</span> Further Reading</h2>
<p>This section covers the second chapter of the book and introduces DEA and R working through a model and looping through a series of analyses. The interested reader is referred to the book <em>DEA Using R</em> for more information on DEA. In particular, chapters covers topics such as:</p>
<ul>
<li>a matrix-oriented implementation of DEA,</li>
<li>output-orientation (maximizing the production of outputs)</li>
<li>multiplier model (weighting inputs and weighting models)</li>
<li>an easy to understand application applied to over 100 years of data</li>
<li>examples of previously published applications applied to R&amp;D project evaluation.</li>
</ul>
</div>
<div id="exercises-3" class="section level2" number="5.13">
<h2><span class="header-section-number">5.13</span> Exercises</h2>
<div class="exercise">
<p><span id="exr:unlabeled-div-16" class="exercise"><strong>Exercise 5.1  (Graphically Adding DMU E) </strong></span>Add a fifth unit, E, to the first example that produces 400 units output using 30 units of input. Graphically evaluate all five units for their efficiency scores and lambda values. Interpret the solution in terms of who is doing well, who is doing poorly, and who should be learning from whom.<br />
</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-17" class="exercise"><strong>Exercise 5.2  (Adding DMU E Using R) </strong></span>Examine the new unit, E, using R. Interpret the solution in terms of who is doing well, who is doing poorly, and who should be learning from whom.<br />
</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-18" class="exercise"><strong>Exercise 5.3  (Looping) </strong></span>Wrap a for loop around the model from the previous exercise to examine every unit. Discuss results.<br />
</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-19" class="exercise"><strong>Exercise 5.4  (Bigger Data) </strong></span>Use a bigger data set and conduct an analysis &amp; interpretation (more inputs, outputs, and units.)</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-20" class="exercise"><strong>Exercise 5.5  (Compare Results) </strong></span>Check results against a DEA package (ex. <code>DEAMultiplier</code>, <code>Benchmarking</code>, <code>nonparaeff</code>).<br />
</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-21" class="exercise"><strong>Exercise 5.6  (Slacking) </strong></span>Construct an example where Phase 2 increases positive slacks from Phase 1.<br />
</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-22" class="exercise"><strong>Exercise 5.7  (DEA Application) </strong></span>Conduct a DEA study for an application that you are personally familiar with. (Pick one for which data is readily available but something that you are passionate about. It can have scrubbed or anonymized data. Examples might include your favorite sports league, team salaries, coaching salaries, wins, etc. or it can be USAF related.)</p>
<ol style="list-style-type: lower-alpha">
<li>Describe the application.</li>
<li>Describe and justify the data including the inputs and outputs used as well as items explicitly not used.</li>
<li>Select an appropriate DEA model and conduct the analysis.</li>
<li>Discuss the results.</li>
</ol>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-23" class="exercise"><strong>Exercise 5.8  (DEA Technique Choices) </strong></span>Choosing Inputs and Outputs: The DEA store example in chapter 5 uses an input-output model of sales and employees. Describe a richer input-output model that you feel would make for a better case. Be sure to discuss tradeoffs and other DEA model choices, including how results could be used.</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-24" class="exercise"><strong>Exercise 5.9  (Using DEA to Compare Products) </strong></span>Conduct a DEA study on the given sample data about cameras specifications in different smartphone models from different companies i.e. Apple, Samsung, Google, LG etc. The inputs can be camera characters and output can be cost of phone. See an example below:</p>
<table>
<caption>Camera Data.</caption>
<thead>
<tr class="header">
<th align="right"></th>
<th align="center">Cost($)</th>
<th align="center">Storage Space(GB)</th>
<th align="center">Resolution(MP)</th>
<th align="center">Lens Thickness(mm)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">Phone A</td>
<td align="center">250</td>
<td align="center">16</td>
<td align="center">12</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="right">Phone B</td>
<td align="center">225</td>
<td align="center">16</td>
<td align="center">8</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="right">Phone C</td>
<td align="center">300</td>
<td align="center">32</td>
<td align="center">16</td>
<td align="center">4.5</td>
</tr>
<tr class="even">
<td align="right">Phone D</td>
<td align="center">275</td>
<td align="center">32</td>
<td align="center">8</td>
<td align="center">4</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-alpha">
<li>Add more DMUs to above data so that there are minimum 10 in total.</li>
<li>Add more inputs and outputs as needed. Describe and justify the data including the inputs and outputs used as well as items explicitly not used.</li>
<li>Select an appropriate DEA model and conduct the analysis.</li>
<li>Discuss the results.</li>
</ol>
</div>
<p></p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-AndersonMeasuringefficiencyuniversity2007" class="csl-entry">
Anderson, Timothy R., Tugrul U. Daim, and Francois F. Lavoie. 2007. <span>“Measuring the Efficiency of University Technology Transfer.”</span> <em>Technovation</em> 27 (5): 306–18. <a href="https://doi.org/10.1016/j.technovation.2006.10.003">https://doi.org/10.1016/j.technovation.2006.10.003</a>.
</div>
<div id="ref-banker1984" class="csl-entry">
Banker, R. D., A. Charnes, and W. W. Cooper. 1984. <span>“Some Models for Estimating Technical and Scale Inefficiencies in Data Envelopment Analysis.”</span> <em>Management Science</em>, 1078–92.
</div>
<div id="ref-BogetoftBenchmarkingDEASFA2013" class="csl-entry">
Bogetoft, Peter, and Lars Otto. 2013. <em>Benchmarking with <span>DEA</span>, <span>SFA</span>, and <span>R</span></em>. 2011 edition. New York u.a.: <span>Springer</span>.
</div>
<div id="ref-CharnesDataEnvelopmentAnalysis1978" class="csl-entry">
Charnes, A., William W. Cooper, and E. Rhodes. 1978. <em>A <span>Data Envelopment Analysis Approach</span> to <span>Evaluation</span> of the <span>Program Follow Through Experiment</span> in <span>U</span>.<span>S</span>. <span>Public School Education</span></em>. Boston: <span>Division of Research Graduate School of Business Administration Harvard University</span>.
</div>
<div id="ref-RhodesDataEnvelopmentAnalysis1978" class="csl-entry">
Rhodes, Edwardo Lao. 1978. <span>“Data <span>Envelopment Analysis</span> and <span>Approaches For Measuring</span> the <span>Efficiency</span> of <span>Decision</span>-<span>Making Units With</span> an <span>Application</span> to <span>Program Follow</span>-<span>Through</span> in <span>U</span>. <span>S</span>. <span>Education</span>.”</span> PhD thesis.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>This chapter is drawn from an introduction chapter in the book, <em>Data Envelopment Analysis Using R</em> by the same author. More details on DEA are available from that book. This book is also available via github at <a href="https://github.com/prof-anderson" class="uri">https://github.com/prof-anderson</a><span class="math display">\[github.com/prof-anderson\]</span><a href="data-envelopment-analysis.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sensitivity-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mixed-integer-optimization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
